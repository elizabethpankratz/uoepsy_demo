<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Teaching Demo @ UoE Psychology - Detailed analyses</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Teaching Demo @ UoE Psychology</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../slides/demo.html"> 
<span class="menu-text">Presentation slides</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../pages/demo-handout.html"> 
<span class="menu-text">Presentation handout</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../pages/activity-handout.pdf"> 
<span class="menu-text">Activity handout</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="../pages/detailed-analyses.html" aria-current="page"> 
<span class="menu-text">Detailed analyses</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#the-data" id="toc-the-data" class="nav-link active" data-scroll-target="#the-data">The data</a></li>
  <li><a href="#ordinal-regression-with-polr" id="toc-ordinal-regression-with-polr" class="nav-link" data-scroll-target="#ordinal-regression-with-polr">Ordinal regression with <code>polr()</code></a>
  <ul class="collapse">
  <li><a href="#intercept-only-model" id="toc-intercept-only-model" class="nav-link" data-scroll-target="#intercept-only-model">Intercept-only model</a>
  <ul class="collapse">
  <li><a href="#look-at-the-data" id="toc-look-at-the-data" class="nav-link" data-scroll-target="#look-at-the-data">Look at the data</a></li>
  <li><a href="#fit-the-model" id="toc-fit-the-model" class="nav-link" data-scroll-target="#fit-the-model">Fit the model</a></li>
  <li><a href="#interpret-the-model" id="toc-interpret-the-model" class="nav-link" data-scroll-target="#interpret-the-model">Interpret the model</a></li>
  </ul></li>
  <li><a href="#rating-gender" id="toc-rating-gender" class="nav-link" data-scroll-target="#rating-gender"><code>rating ~ gender</code></a>
  <ul class="collapse">
  <li><a href="#look-at-the-data-1" id="toc-look-at-the-data-1" class="nav-link" data-scroll-target="#look-at-the-data-1">Look at the data</a></li>
  <li><a href="#fit-the-model-1" id="toc-fit-the-model-1" class="nav-link" data-scroll-target="#fit-the-model-1">Fit the model</a></li>
  <li><a href="#interpret-the-model-1" id="toc-interpret-the-model-1" class="nav-link" data-scroll-target="#interpret-the-model-1">Interpret the model</a></li>
  <li><a href="#significance-tests" id="toc-significance-tests" class="nav-link" data-scroll-target="#significance-tests">Significance tests</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#gaussian-regression-model-with-lm" id="toc-gaussian-regression-model-with-lm" class="nav-link" data-scroll-target="#gaussian-regression-model-with-lm">Gaussian regression model with <code>lm()</code></a></li>
  <li><a href="#z-score-conversion-then-gaussian-regression-model-with-lm" id="toc-z-score-conversion-then-gaussian-regression-model-with-lm" class="nav-link" data-scroll-target="#z-score-conversion-then-gaussian-regression-model-with-lm">z-score conversion then Gaussian regression model with <code>lm()</code></a></li>
  <li><a href="#resources" id="toc-resources" class="nav-link" data-scroll-target="#resources">Resources</a></li>
  <li><a href="#session-info" id="toc-session-info" class="nav-link" data-scroll-target="#session-info">Session info</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Detailed analyses</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>On this page, I lay out in more technical detail <a href="#ordinal-regression-with-polr">the analysis of the student anxiety data using <code>MASS::polr()</code></a>.</p>
<p>I also (very) briefly illustrate two other widespread ways of analysing ordinal data: <a href="#gaussian-regression-model-with-lm">treating it as continuous numeric data and using a Gaussian model</a>, and <a href="#z-score-conversion-then-gaussian-regression-model-with-lm">first converting it to z-scores by participant and then using a Gaussian model on those z-scores</a>.</p>
<section id="the-data" class="level1">
<h1>The data</h1>
<p>The student anxiety rating data comes from <a href="https://openpsychologydata.metajnl.com/articles/10.5334/jopd.80">the SMARVUS dataset</a> compiled by Terry et al.&nbsp;(2023).<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></p>
<p>I first filtered the data to keep only participants who responded correctly to all seven attention checks in the original survey.</p>
<p>For this analysis, I’m using responses to question <code>Q7.1_3</code>, which asked students to rate their anxiety from 1 (no anxiety) to 5 (a great deal of anxiety) in response to the following scenario: <strong>“Going to ask my statistics teacher for individual help with material I am having difficulty understanding”.</strong></p>
<p>I only analysed responses from participants who passed all seven attention checks in the original survey, and I extracted each participant’s unique ID, their self-reported gender (grouped by the researchers into <code>Female/Woman</code>, <code>Male/Man</code>, and <code>Another Gender</code>), and their rating for question <code>Q7.1_3</code>.</p>
<p>This data is saved in <code>anx.csv</code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>anx <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'data/anx.csv'</span>) <span class="sc">|&gt;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(unique_id, gender, score) <span class="sc">|&gt;</span> </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">rating =</span> score)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">slice</span>(anx, <span class="dv">45</span><span class="sc">:</span><span class="dv">50</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
  unique_id gender         rating
  &lt;chr&gt;     &lt;chr&gt;           &lt;dbl&gt;
1 7d28c303  Female/Woman        4
2 7d55383a  Another Gender      4
3 8116550a  Female/Woman        1
4 83491ff9  Female/Woman        4
5 8450f8ad  Male/Man            2
6 876547d6  Female/Woman        3</code></pre>
</div>
</div>
</section>
<section id="ordinal-regression-with-polr" class="level1">
<h1>Ordinal regression with <code>polr()</code></h1>
<section id="intercept-only-model" class="level2">
<h2 class="anchored" data-anchor-id="intercept-only-model">Intercept-only model</h2>
<section id="look-at-the-data" class="level3">
<h3 class="anchored" data-anchor-id="look-at-the-data">Look at the data</h3>
<p>Here’s how participant responses, aggregated over <code>gender</code>, pattern:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>anx <span class="sc">|&gt;</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(rating))) <span class="sc">+</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">'#2e3836'</span>) <span class="sc">+</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">'Count'</span>,</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">'n = 8,314'</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">'1</span><span class="sc">\n</span><span class="st">(no anxiety)'</span>, <span class="st">'2'</span>, <span class="st">'3'</span>, <span class="st">'4'</span>, <span class="st">'5</span><span class="sc">\n</span><span class="st">(a great deal</span><span class="sc">\n</span><span class="st">of anxiety)'</span>)) <span class="sc">+</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="detailed-analyses_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="fit-the-model" class="level3">
<h3 class="anchored" data-anchor-id="fit-the-model">Fit the model</h3>
<p>To use <code>polr()</code>, the outcome variable must be a factor. No need to manually specify the order of levels, since they’re already in the correct order by default.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>anx <span class="ot">&lt;-</span> anx <span class="sc">|&gt;</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rating =</span> <span class="fu">factor</span>(rating))</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>anx_fit1 <span class="ot">&lt;-</span> <span class="fu">polr</span>(</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  rating <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> anx,</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">method =</span> <span class="st">'probit'</span>,</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="at">Hess =</span> <span class="cn">TRUE</span>  <span class="co"># set TRUE if want to use summary()</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(anx_fit1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call:
polr(formula = rating ~ 1, data = anx, Hess = TRUE, method = "probit")

No coefficients

Intercepts:
    Value    Std. Error t value 
1|2  -0.8420   0.0157   -53.7268
2|3  -0.1678   0.0138   -12.1462
3|4   0.3833   0.0141    27.1512
4|5   1.0339   0.0168    61.6193

Residual Deviance: 26596.28 
AIC: 26604.28 </code></pre>
</div>
</div>
</section>
<section id="interpret-the-model" class="level3">
<h3 class="anchored" data-anchor-id="interpret-the-model">Interpret the model</h3>
<p>The values estimated for the <code>Intercepts</code> aren’t really intercepts, not like the intercept of a linear model. Rather, these values represent the thresholds (also called cutpoints) along a continuous latent variable, a construct which the model assumes to represent some continuous measure of anxiety. Sometimes this assumed continuous latent variable will be represented as <span class="math inline">\(\Phi\)</span> (phi), and sometimes those thresholds will be represented as <span class="math inline">\(\zeta\)</span> (zeta).</p>
<p>We can extract those threshold values as follows:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>anx_fit1<span class="sc">$</span>zeta</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>       1|2        2|3        3|4        4|5 
-0.8419663 -0.1678099  0.3833389  1.0339047 </code></pre>
</div>
</div>
<p>Because I’ve used the probit link function (in <code>method = "probit"</code>), the model further assumes that anxiety follows a standard normal distribution over this continuous latent variable.<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>rating_labs1 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">2.6</span>, <span class="sc">-</span><span class="fl">1.2</span>, <span class="sc">-</span><span class="fl">0.5</span>, <span class="fl">0.1</span>, <span class="fl">0.7</span>, <span class="fl">1.3</span>),</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">d =</span> <span class="fu">c</span>(<span class="fl">0.47</span>),</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">labs =</span> <span class="fu">c</span>(<span class="st">'Rating:'</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>p_underlying_normal <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">x =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="sc">-</span><span class="fl">3.5</span>, <span class="at">to =</span> <span class="fl">3.5</span>, <span class="at">length.out =</span> <span class="dv">200</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">d =</span> <span class="fu">dnorm</span>(<span class="at">x =</span> x)) <span class="sc">|&gt;</span> </span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> d)) <span class="sc">+</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_area</span>(<span class="at">fill =</span> <span class="st">'#2e3836'</span>, <span class="at">alpha =</span> <span class="fl">0.4</span>) <span class="sc">+</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> rating_labs1, <span class="fu">aes</span>(<span class="at">label =</span> labs), <span class="at">family =</span> <span class="st">"Fira Sans"</span>, <span class="at">size =</span> <span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> anx_fit1<span class="sc">$</span>zeta, <span class="at">linetype =</span> <span class="st">'dotted'</span>, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Anxiety (assumed latent variable)'</span>,</span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="sc">-</span><span class="dv">3</span><span class="sc">:</span><span class="dv">3</span>,</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">sec.axis =</span> <span class="fu">dup_axis</span>(</span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>      <span class="at">name =</span> <span class="cn">NULL</span>,</span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>      <span class="at">breaks =</span> anx_fit1<span class="sc">$</span>zeta <span class="sc">|&gt;</span> <span class="fu">as.double</span>(),</span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>      <span class="at">labels =</span> <span class="fu">round</span>(anx_fit1<span class="sc">$</span>zeta, <span class="dv">2</span>)</span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>    <span class="cn">NULL</span>, </span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="cn">NULL</span>,</span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.5</span>)</span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>( </span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.line.x.top =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks.x.top =</span> <span class="fu">element_blank</span>()</span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>  <span class="cn">NULL</span></span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>p_underlying_normal</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="detailed-analyses_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This normal distribution allows us to compute the probability density within each region defined by the cutpoints. One way to do this is using <code>pnorm()</code>, which gives us by default how much probability density falls to the left of the given value in a standard normal distribution. For the intermediate regions, we subtract the probability density below the region’s leftward periphery from the probability density below its rightward periphery, to get only the density between those two bounds.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>(anx_fit1_p1 <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(<span class="sc">-</span><span class="fl">0.84</span>))                  <span class="co"># probability of rating 1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.2004542</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>(anx_fit1_p2 <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(<span class="sc">-</span><span class="fl">0.17</span>) <span class="sc">-</span> <span class="fu">pnorm</span>(<span class="sc">-</span><span class="fl">0.84</span>))   <span class="co"># probability of rating 2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.2320509</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>(anx_fit1_p3 <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(<span class="fl">0.38</span>) <span class="sc">-</span> <span class="fu">pnorm</span>(<span class="sc">-</span><span class="fl">0.17</span>))    <span class="co"># probability of rating 3</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.2155222</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>(anx_fit1_p4 <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(<span class="fl">1.03</span>) <span class="sc">-</span> <span class="fu">pnorm</span>(<span class="fl">0.38</span>))     <span class="co"># probability of rating 4</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.2004677</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>(anx_fit1_p5 <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(<span class="dv">1000</span>) <span class="sc">-</span> <span class="fu">pnorm</span>(<span class="fl">1.03</span>))     <span class="co"># probability of rating 5</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.151505</code></pre>
</div>
</div>
<p>(For rating 5, I just grabbed some huge value as an arbitrary upper bound.)</p>
<p>A good sense check: these probabilities approximate the overall proportion of responses to each rating in the original data.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(anx<span class="sc">$</span>rating) <span class="sc">/</span> <span class="fu">nrow</span>(anx)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
        1         2         3         4         5 
0.1999038 0.2334616 0.2159009 0.2001443 0.1505894 </code></pre>
</div>
</div>
<p>Here’s one way to visualise the probability density within each region of the distribution.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>anx_fit1_probs <span class="ot">&lt;-</span> <span class="fu">c</span>(anx_fit1_p1, anx_fit1_p2, anx_fit1_p3, anx_fit1_p4, anx_fit1_p5)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>prob_labs1 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">2.6</span>, <span class="sc">-</span><span class="fl">1.2</span>, <span class="sc">-</span><span class="fl">0.5</span>, <span class="fl">0.1</span>, <span class="fl">0.7</span>, <span class="fl">1.3</span>),</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">d =</span> <span class="fu">c</span>(<span class="fl">0.1</span>),</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">labs =</span> <span class="fu">c</span>(<span class="st">'Probability:'</span>, <span class="fu">round</span>(anx_fit1_probs, <span class="dv">2</span>))</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>p_underlying_normal <span class="sc">+</span></span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> prob_labs1, <span class="fu">aes</span>(<span class="at">label =</span> labs), <span class="at">family =</span> <span class="st">"Fira Sans"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="detailed-analyses_files/figure-html/unnamed-chunk-8-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="rating-gender" class="level2">
<h2 class="anchored" data-anchor-id="rating-gender"><code>rating ~ gender</code></h2>
<section id="look-at-the-data-1" class="level3">
<h3 class="anchored" data-anchor-id="look-at-the-data-1">Look at the data</h3>
<p>I’ll first convert <code>gender</code> to a factor with a custom ordering.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>anx <span class="ot">&lt;-</span> anx <span class="sc">|&gt;</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gender =</span> <span class="fu">factor</span>(gender, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">'Female/Woman'</span>, <span class="st">'Male/Man'</span>, <span class="st">'Another Gender'</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Participants’ anxiety ratings for the same question as above, now divided by their gender:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>anx <span class="sc">|&gt;</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> rating, <span class="at">fill =</span> gender)) <span class="sc">+</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">facet_wrap</span>(<span class="sc">~</span> gender, <span class="at">scales =</span> <span class="st">'free'</span>, <span class="at">nrow=</span><span class="dv">3</span>) <span class="sc">+</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> palette_gender) <span class="sc">+</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">'Count'</span></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb23-10"><a href="#cb23-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">'none'</span>) <span class="sc">+</span></span>
<span id="cb23-11"><a href="#cb23-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">'1</span><span class="sc">\n</span><span class="st">(no anxiety)'</span>, <span class="st">'2'</span>, <span class="st">'3'</span>, <span class="st">'4'</span>, <span class="st">'5</span><span class="sc">\n</span><span class="st">(a great deal</span><span class="sc">\n</span><span class="st">of anxiety)'</span>)) <span class="sc">+</span></span>
<span id="cb23-12"><a href="#cb23-12" aria-hidden="true" tabindex="-1"></a>  <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="detailed-analyses_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>(Yikes, right? 😞)</p>
</section>
<section id="fit-the-model-1" class="level3">
<h3 class="anchored" data-anchor-id="fit-the-model-1">Fit the model</h3>
<p>I’m going to use R’s default treatment coding for <code>gender</code>. Because of the level ordering I specified above for <code>gender</code>, <code>Female/Woman</code> will be the reference level, and we’ll get two dummy variables: one comparing <code>Female/Woman</code> to <code>Male/Man</code>, and one comparing <code>Female/Woman</code> to <code>Another Gender</code>. To confirm:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="fu">contrasts</span>(anx<span class="sc">$</span>gender)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>               Male/Man Another Gender
Female/Woman          0              0
Male/Man              1              0
Another Gender        0              1</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>anx_fit2 <span class="ot">&lt;-</span> <span class="fu">polr</span>(</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>  rating <span class="sc">~</span> gender,</span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> anx,</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">method =</span> <span class="st">'probit'</span>,</span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Hess =</span> <span class="cn">TRUE</span></span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(anx_fit2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call:
polr(formula = rating ~ gender, data = anx, Hess = TRUE, method = "probit")

Coefficients:
                       Value Std. Error t value
genderMale/Man       -0.3280    0.03015 -10.880
genderAnother Gender  0.4846    0.11992   4.041

Intercepts:
    Value    Std. Error t value 
1|2  -0.9045   0.0169   -53.5402
2|3  -0.2246   0.0150   -14.9847
3|4   0.3318   0.0151    21.9158
4|5   0.9889   0.0176    56.2958

Residual Deviance: 26456.99 
AIC: 26468.99 </code></pre>
</div>
</div>
</section>
<section id="interpret-the-model-1" class="level3">
<h3 class="anchored" data-anchor-id="interpret-the-model-1">Interpret the model</h3>
<p>Just as the <code>Intercepts</code> aren’t the intercept of a line, the <code>Coefficients</code> are not the slope of a line. Rather, they give the mean of the normal distribution that represents how each gender group’s ratings are distributed over the continuous latent variable representing anxiety.</p>
<p>In other words, the normal distribution representing <code>Male/Man</code> anxiety is shifted leftward by 0.33 units from the reference distribution (<code>Female/Woman</code>, still centered at 0), while the <code>Another Gender</code> distribution is shifted rightward by 0.48 units.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">coef</span>(anx_fit2), <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>      genderMale/Man genderAnother Gender 
               -0.33                 0.48 </code></pre>
</div>
</div>
<p>The following code computes the probability density at each value of this latent continuous variable for each gender group’s distribution. I’ll use it to plot all three groups’ probability distributions below.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>anx_fit2_latent_normals <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">Gender =</span> <span class="fu">factor</span>(</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="st">'Female/Woman'</span>, <span class="st">'Male/Man'</span>, <span class="st">'Another Gender'</span>),</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">'Female/Woman'</span>, <span class="st">'Male/Man'</span>, <span class="st">'Another Gender'</span>)),</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">mu =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fu">coef</span>(anx_fit2))</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">expand</span>(</span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">nesting</span>(Gender, mu),</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="sc">-</span><span class="fl">3.5</span>, <span class="at">to =</span> <span class="fl">3.5</span>, <span class="at">length.out =</span> <span class="dv">200</span>)</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>    <span class="at">d =</span> <span class="fu">dnorm</span>(x, <span class="at">mean =</span> mu, <span class="at">sd =</span> <span class="dv">1</span>)  <span class="co"># get dens at each x value for normal distrib with each row's mu</span></span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(anx_fit2_latent_normals)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  Gender          mu     x        d
  &lt;fct&gt;        &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
1 Female/Woman     0 -3.5  0.000873
2 Female/Woman     0 -3.46 0.000986
3 Female/Woman     0 -3.43 0.00111 
4 Female/Woman     0 -3.39 0.00126 
5 Female/Woman     0 -3.36 0.00141 
6 Female/Woman     0 -3.32 0.00159 </code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>rating_labs <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">2.6</span>, <span class="sc">-</span><span class="fl">1.4</span>, <span class="sc">-</span><span class="fl">0.6</span>, <span class="fl">0.1</span>, <span class="fl">0.7</span>, <span class="fl">1.5</span>),</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">d =</span> <span class="fu">c</span>(<span class="fl">0.57</span>),</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">labs =</span> <span class="fu">c</span>(<span class="st">'Rating:'</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>),</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">Gender =</span> <span class="fu">c</span>(<span class="st">'Female/Woman'</span>)</span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>mm_mean <span class="ot">&lt;-</span> anx_fit2<span class="sc">$</span>coefficients[[<span class="st">'genderMale/Man'</span>]]</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a>ag_mean <span class="ot">&lt;-</span> anx_fit2<span class="sc">$</span>coefficients[[<span class="st">'genderAnother Gender'</span>]]</span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-11"><a href="#cb32-11" aria-hidden="true" tabindex="-1"></a>anx_fit2_latent_normals <span class="sc">|&gt;</span></span>
<span id="cb32-12"><a href="#cb32-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> d, <span class="at">fill =</span> Gender)) <span class="sc">+</span></span>
<span id="cb32-13"><a href="#cb32-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_area</span>(<span class="at">position =</span> <span class="st">'identity'</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>) <span class="sc">+</span></span>
<span id="cb32-14"><a href="#cb32-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> anx_fit2<span class="sc">$</span>zeta, <span class="at">linetype =</span> <span class="st">'dotted'</span>, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb32-15"><a href="#cb32-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">linewidth =</span> <span class="dv">1</span>, <span class="at">xintercept =</span> <span class="dv">0</span>, <span class="at">colour =</span> palette_gender[<span class="dv">1</span>]) <span class="sc">+</span></span>
<span id="cb32-16"><a href="#cb32-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">linewidth =</span> <span class="dv">1</span>, <span class="at">xintercept =</span> mm_mean, <span class="at">colour =</span> palette_gender[<span class="dv">2</span>]) <span class="sc">+</span></span>
<span id="cb32-17"><a href="#cb32-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">linewidth =</span> <span class="dv">1</span>, <span class="at">xintercept =</span> ag_mean, <span class="at">colour =</span> palette_gender[<span class="dv">3</span>]) <span class="sc">+</span></span>
<span id="cb32-18"><a href="#cb32-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> rating_labs, <span class="fu">aes</span>(<span class="at">label =</span> labs), <span class="at">family =</span> <span class="st">'Fira Sans'</span>, <span class="at">size =</span> <span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb32-19"><a href="#cb32-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> palette_gender) <span class="sc">+</span></span>
<span id="cb32-20"><a href="#cb32-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb32-21"><a href="#cb32-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.line.x.top =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb32-22"><a href="#cb32-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks.x.top =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb32-23"><a href="#cb32-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">'bottom'</span></span>
<span id="cb32-24"><a href="#cb32-24" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb32-25"><a href="#cb32-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="cn">NULL</span>, <span class="at">breaks =</span> <span class="cn">NULL</span>, <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.6</span>)) <span class="sc">+</span></span>
<span id="cb32-26"><a href="#cb32-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb32-27"><a href="#cb32-27" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Anxiety (assumed latent variable)'</span>, </span>
<span id="cb32-28"><a href="#cb32-28" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="sc">-</span><span class="dv">3</span><span class="sc">:</span><span class="dv">3</span>,</span>
<span id="cb32-29"><a href="#cb32-29" aria-hidden="true" tabindex="-1"></a>    <span class="at">sec.axis =</span> <span class="fu">dup_axis</span>(</span>
<span id="cb32-30"><a href="#cb32-30" aria-hidden="true" tabindex="-1"></a>      <span class="at">name =</span> <span class="cn">NULL</span>,</span>
<span id="cb32-31"><a href="#cb32-31" aria-hidden="true" tabindex="-1"></a>      <span class="at">breaks =</span> anx_fit2<span class="sc">$</span>zeta <span class="sc">|&gt;</span> <span class="fu">as.double</span>(),</span>
<span id="cb32-32"><a href="#cb32-32" aria-hidden="true" tabindex="-1"></a>      <span class="at">labels =</span> <span class="fu">round</span>(anx_fit2<span class="sc">$</span>zeta, <span class="dv">2</span>)</span>
<span id="cb32-33"><a href="#cb32-33" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">+</span></span>
<span id="cb32-34"><a href="#cb32-34" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x=</span> <span class="dv">0</span>, <span class="at">y =</span> <span class="fl">0.44</span>, <span class="at">xend =</span> mm_mean, <span class="at">yend =</span> <span class="fl">0.44</span>), <span class="at">linewidth =</span> <span class="fl">1.5</span>, <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="fl">0.5</span>,<span class="st">"cm"</span>)), <span class="at">colour =</span> palette_gender[<span class="dv">2</span>]) <span class="sc">+</span></span>
<span id="cb32-35"><a href="#cb32-35" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_label</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="sc">-</span><span class="fl">0.33</span>, <span class="at">y =</span> <span class="fl">0.49</span>), <span class="at">label =</span> <span class="fu">round</span>(mm_mean, <span class="dv">2</span>), <span class="at">fill =</span> <span class="st">'white'</span>, <span class="at">colour =</span> palette_gender[<span class="dv">2</span>], <span class="at">family =</span> <span class="st">'Fira Sans'</span>, <span class="at">label.size =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">6</span>) <span class="sc">+</span></span>
<span id="cb32-36"><a href="#cb32-36" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="fu">aes</span>(<span class="at">x=</span> <span class="dv">0</span>, <span class="at">y =</span> <span class="fl">0.44</span>, <span class="at">xend =</span> ag_mean, <span class="at">yend =</span> <span class="fl">0.44</span>), <span class="at">linewidth =</span> <span class="fl">1.5</span>, <span class="at">arrow =</span> <span class="fu">arrow</span>(<span class="at">length =</span> <span class="fu">unit</span>(<span class="fl">0.5</span>,<span class="st">"cm"</span>)), <span class="at">colour =</span> palette_gender[<span class="dv">3</span>]) <span class="sc">+</span></span>
<span id="cb32-37"><a href="#cb32-37" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_label</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fl">0.48</span>, <span class="at">y =</span> <span class="fl">0.49</span>), <span class="at">label =</span> <span class="fu">round</span>(ag_mean, <span class="dv">2</span>), <span class="at">fill =</span> <span class="st">'white'</span>, <span class="at">colour =</span> palette_gender[<span class="dv">3</span>], <span class="at">family =</span> <span class="st">'Fira Sans'</span>, <span class="at">label.size =</span> <span class="dv">1</span>, <span class="at">size =</span> <span class="dv">6</span>) <span class="sc">+</span></span>
<span id="cb32-38"><a href="#cb32-38" aria-hidden="true" tabindex="-1"></a>  <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="detailed-analyses_files/figure-html/unnamed-chunk-15-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Shifting the normal distributions left and right changes how much probability density is allocated to each region, each rating. The thresholds do not move.</p>
<p>The following function estimates the probability density between given thresholds for a normal distribution with given mean and standard deviation (in these models, I’ve allowed the standard deviation to stay fixed at 1).</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>get_prob_dens <span class="ot">&lt;-</span> <span class="cf">function</span>(zetas, mu, sigma){</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="co"># zetas: numeric vector, list of thresholds in Phi space (from polr model)</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># mu: numeric, mean of normal distribution</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># sigma: positive numeric, standard deviation of normal distribution</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Back-transform thresholds into probability space according to location </span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a>  <span class="co"># of shifted normal. Outcome contains cumulative probabilities.</span></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>  prob_spc_thresholds <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(zetas, <span class="at">mean =</span> mu, <span class="at">sd =</span> sigma)  </span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add first and last elements to this cumsum so that successive differences </span></span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># come out right.</span></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>  probs_btwn_thresholds <span class="ot">&lt;-</span> <span class="fu">diff</span>( <span class="fu">c</span>(<span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">0</span>, prob_spc_thresholds, <span class="st">'x'</span> <span class="ot">=</span> <span class="dv">1</span>) )</span>
<span id="cb33-13"><a href="#cb33-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb33-14"><a href="#cb33-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Rename each element in the vector to the between-threshold sections.</span></span>
<span id="cb33-15"><a href="#cb33-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(probs_btwn_thresholds) <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(probs_btwn_thresholds)</span>
<span id="cb33-16"><a href="#cb33-16" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb33-17"><a href="#cb33-17" aria-hidden="true" tabindex="-1"></a>  probs_btwn_thresholds</span>
<span id="cb33-18"><a href="#cb33-18" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Another way of visualising each resulting probability distributions is as follows.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>fw_probs <span class="ot">&lt;-</span> <span class="fu">get_prob_dens</span>(anx_fit2<span class="sc">$</span>zeta, <span class="dv">0</span>, <span class="dv">1</span>)</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a>fw_prob_labs <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">2.6</span>, <span class="sc">-</span><span class="fl">1.4</span>, <span class="sc">-</span><span class="fl">0.56</span>, <span class="fl">0.05</span>, <span class="fl">0.66</span>, <span class="fl">1.45</span>),</span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">d =</span> <span class="fu">c</span>(<span class="fl">0.05</span>),</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">labs =</span> <span class="fu">c</span>(<span class="st">'Probability:'</span>, <span class="fu">round</span>(fw_probs, <span class="dv">2</span>)),</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">Gender =</span> <span class="st">'Female/Woman'</span></span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>anx_fit2_latent_normals <span class="sc">|&gt;</span></span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Gender <span class="sc">==</span> <span class="st">'Female/Woman'</span>) <span class="sc">|&gt;</span></span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> d)) <span class="sc">+</span></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_area</span>(<span class="at">position =</span> <span class="st">'identity'</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">fill =</span> palette_gender[<span class="dv">1</span>]) <span class="sc">+</span></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> anx_fit2<span class="sc">$</span>zeta, <span class="at">linetype =</span> <span class="st">'dotted'</span>) <span class="sc">+</span></span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> fw_prob_labs, <span class="fu">aes</span>(<span class="at">label =</span> labs), <span class="at">family =</span> <span class="st">'Fira Sans'</span>) <span class="sc">+</span></span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> rating_labs, <span class="fu">aes</span>(<span class="at">y =</span> d<span class="fl">-0.15</span>, <span class="at">label =</span> labs), <span class="at">family =</span> <span class="st">'Fira Sans'</span>, <span class="at">size =</span> <span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.line.x.top =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks.x.top =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">'none'</span>,</span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb34-22"><a href="#cb34-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="cn">NULL</span>, <span class="at">breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb34-23"><a href="#cb34-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb34-24"><a href="#cb34-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Anxiety (assumed latent variable)'</span>, </span>
<span id="cb34-25"><a href="#cb34-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="sc">-</span><span class="dv">3</span><span class="sc">:</span><span class="dv">3</span>,</span>
<span id="cb34-26"><a href="#cb34-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">sec.axis =</span> <span class="fu">dup_axis</span>(</span>
<span id="cb34-27"><a href="#cb34-27" aria-hidden="true" tabindex="-1"></a>      <span class="at">name =</span> <span class="cn">NULL</span>,</span>
<span id="cb34-28"><a href="#cb34-28" aria-hidden="true" tabindex="-1"></a>      <span class="at">breaks =</span> anx_fit2<span class="sc">$</span>zeta <span class="sc">|&gt;</span> <span class="fu">as.double</span>(),</span>
<span id="cb34-29"><a href="#cb34-29" aria-hidden="true" tabindex="-1"></a>      <span class="at">labels =</span> <span class="fu">round</span>(anx_fit2<span class="sc">$</span>zeta, <span class="dv">2</span>)</span>
<span id="cb34-30"><a href="#cb34-30" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">+</span></span>
<span id="cb34-31"><a href="#cb34-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">'Female/Woman'</span>) <span class="sc">+</span></span>
<span id="cb34-32"><a href="#cb34-32" aria-hidden="true" tabindex="-1"></a>  <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="detailed-analyses_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>mm_probs <span class="ot">&lt;-</span> <span class="fu">get_prob_dens</span>(anx_fit2<span class="sc">$</span>zeta, mm_mean, <span class="dv">1</span>)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>mm_prob_labs <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">2.6</span>, <span class="sc">-</span><span class="fl">1.4</span>, <span class="sc">-</span><span class="fl">0.56</span>, <span class="fl">0.05</span>, <span class="fl">0.66</span>, <span class="fl">1.3</span>),</span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">d =</span> <span class="fu">c</span>(<span class="fl">0.05</span>),</span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">labs =</span> <span class="fu">c</span>(<span class="st">'Probability:'</span>, <span class="fu">round</span>(mm_probs, <span class="dv">2</span>)),</span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">Gender =</span> <span class="st">'Male/Man'</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a>anx_fit2_latent_normals <span class="sc">|&gt;</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Gender <span class="sc">==</span> <span class="st">'Male/Man'</span>) <span class="sc">|&gt;</span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> d)) <span class="sc">+</span></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_area</span>(<span class="at">position =</span> <span class="st">'identity'</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">fill =</span> palette_gender[<span class="dv">2</span>]) <span class="sc">+</span></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> anx_fit2<span class="sc">$</span>zeta, <span class="at">linetype =</span> <span class="st">'dotted'</span>) <span class="sc">+</span></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> mm_prob_labs, <span class="fu">aes</span>(<span class="at">label =</span> labs), <span class="at">family =</span> <span class="st">'Fira Sans'</span>) <span class="sc">+</span></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> rating_labs, <span class="fu">aes</span>(<span class="at">y =</span> d<span class="fl">-0.15</span>, <span class="at">label =</span> labs), <span class="at">family =</span> <span class="st">'Fira Sans'</span>, <span class="at">size =</span> <span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.line.x.top =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks.x.top =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">'none'</span>,</span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="cn">NULL</span>, <span class="at">breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb35-23"><a href="#cb35-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb35-24"><a href="#cb35-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Anxiety (assumed latent variable)'</span>, </span>
<span id="cb35-25"><a href="#cb35-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="sc">-</span><span class="dv">3</span><span class="sc">:</span><span class="dv">3</span>,</span>
<span id="cb35-26"><a href="#cb35-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">sec.axis =</span> <span class="fu">dup_axis</span>(</span>
<span id="cb35-27"><a href="#cb35-27" aria-hidden="true" tabindex="-1"></a>      <span class="at">name =</span> <span class="cn">NULL</span>,</span>
<span id="cb35-28"><a href="#cb35-28" aria-hidden="true" tabindex="-1"></a>      <span class="at">breaks =</span> anx_fit2<span class="sc">$</span>zeta <span class="sc">|&gt;</span> <span class="fu">as.double</span>(),</span>
<span id="cb35-29"><a href="#cb35-29" aria-hidden="true" tabindex="-1"></a>      <span class="at">labels =</span> <span class="fu">round</span>(anx_fit2<span class="sc">$</span>zeta, <span class="dv">2</span>)</span>
<span id="cb35-30"><a href="#cb35-30" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">+</span></span>
<span id="cb35-31"><a href="#cb35-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">'Male/Man'</span>) <span class="sc">+</span></span>
<span id="cb35-32"><a href="#cb35-32" aria-hidden="true" tabindex="-1"></a>  <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="detailed-analyses_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>ag_probs <span class="ot">&lt;-</span> <span class="fu">get_prob_dens</span>(anx_fit2<span class="sc">$</span>zeta, ag_mean, <span class="dv">1</span>)</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>ag_prob_labs <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">2.6</span>, <span class="sc">-</span><span class="fl">1.2</span>, <span class="sc">-</span><span class="fl">0.56</span>, <span class="fl">0.05</span>, <span class="fl">0.66</span>, <span class="fl">1.7</span>),</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">d =</span> <span class="fu">c</span>(<span class="fl">0.05</span>),</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>  <span class="at">labs =</span> <span class="fu">c</span>(<span class="st">'Probability:'</span>, <span class="fu">round</span>(ag_probs, <span class="dv">2</span>)),</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>  <span class="at">Gender =</span> <span class="st">'Another Gender'</span></span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>anx_fit2_latent_normals <span class="sc">|&gt;</span></span>
<span id="cb36-11"><a href="#cb36-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Gender <span class="sc">==</span> <span class="st">'Another Gender'</span>) <span class="sc">|&gt;</span></span>
<span id="cb36-12"><a href="#cb36-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> d)) <span class="sc">+</span></span>
<span id="cb36-13"><a href="#cb36-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_area</span>(<span class="at">position =</span> <span class="st">'identity'</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">fill =</span> palette_gender[<span class="dv">3</span>]) <span class="sc">+</span></span>
<span id="cb36-14"><a href="#cb36-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> anx_fit2<span class="sc">$</span>zeta, <span class="at">linetype =</span> <span class="st">'dotted'</span>) <span class="sc">+</span></span>
<span id="cb36-15"><a href="#cb36-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> ag_prob_labs, <span class="fu">aes</span>(<span class="at">label =</span> labs), <span class="at">family =</span> <span class="st">'Fira Sans'</span>) <span class="sc">+</span></span>
<span id="cb36-16"><a href="#cb36-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> rating_labs, <span class="fu">aes</span>(<span class="at">y =</span> d<span class="fl">-0.15</span>, <span class="at">label =</span> labs), <span class="at">family =</span> <span class="st">'Fira Sans'</span>, <span class="at">size =</span> <span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb36-17"><a href="#cb36-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb36-18"><a href="#cb36-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.line.x.top =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb36-19"><a href="#cb36-19" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks.x.top =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb36-20"><a href="#cb36-20" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">'none'</span>,</span>
<span id="cb36-21"><a href="#cb36-21" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb36-22"><a href="#cb36-22" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="cn">NULL</span>, <span class="at">breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb36-23"><a href="#cb36-23" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb36-24"><a href="#cb36-24" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Anxiety (assumed latent variable)'</span>, </span>
<span id="cb36-25"><a href="#cb36-25" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="sc">-</span><span class="dv">3</span><span class="sc">:</span><span class="dv">3</span>,</span>
<span id="cb36-26"><a href="#cb36-26" aria-hidden="true" tabindex="-1"></a>    <span class="at">sec.axis =</span> <span class="fu">dup_axis</span>(</span>
<span id="cb36-27"><a href="#cb36-27" aria-hidden="true" tabindex="-1"></a>      <span class="at">name =</span> <span class="cn">NULL</span>,</span>
<span id="cb36-28"><a href="#cb36-28" aria-hidden="true" tabindex="-1"></a>      <span class="at">breaks =</span> anx_fit2<span class="sc">$</span>zeta <span class="sc">|&gt;</span> <span class="fu">as.double</span>(),</span>
<span id="cb36-29"><a href="#cb36-29" aria-hidden="true" tabindex="-1"></a>      <span class="at">labels =</span> <span class="fu">round</span>(anx_fit2<span class="sc">$</span>zeta, <span class="dv">2</span>)</span>
<span id="cb36-30"><a href="#cb36-30" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">+</span></span>
<span id="cb36-31"><a href="#cb36-31" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">'Another Gender'</span>) <span class="sc">+</span></span>
<span id="cb36-32"><a href="#cb36-32" aria-hidden="true" tabindex="-1"></a>  <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="detailed-analyses_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="significance-tests" class="level3">
<h3 class="anchored" data-anchor-id="significance-tests">Significance tests</h3>
<p><code>polr()</code> doesn’t provide <em>p</em>-values:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(anx_fit2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Call:
polr(formula = rating ~ gender, data = anx, Hess = TRUE, method = "probit")

Coefficients:
                       Value Std. Error t value
genderMale/Man       -0.3280    0.03015 -10.880
genderAnother Gender  0.4846    0.11992   4.041

Intercepts:
    Value    Std. Error t value 
1|2  -0.9045   0.0169   -53.5402
2|3  -0.2246   0.0150   -14.9847
3|4   0.3318   0.0151    21.9158
4|5   0.9889   0.0176    56.2958

Residual Deviance: 26456.99 
AIC: 26468.99 </code></pre>
</div>
</div>
<p>But we do have <em>t</em>-values. So to know whether we can reject the null hypothesis (H0) that there’s no association between ratings and gender, we can just treat the estimated <em>t</em>-values like z-scores and compare them to a standard normal distribution representing the H0.<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a></p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pnorm</span>(<span class="fu">abs</span>(<span class="sc">-</span><span class="fl">10.880</span>), <span class="at">lower.tail =</span> <span class="cn">FALSE</span>) <span class="sc">*</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.43563e-27</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pnorm</span>(<span class="fu">abs</span>(<span class="fl">4.041</span>), <span class="at">lower.tail =</span> <span class="cn">FALSE</span>) <span class="sc">*</span> <span class="dv">2</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 5.322376e-05</code></pre>
</div>
</div>
<p>In both cases, the probability of observing a value this extreme or more extreme, given the H0 of no effect given by the standard normal distribution, is less than 0.05. So we can reject the null hypotheses that</p>
<ul>
<li>there’s no difference between <code>Female/Woman</code> and <code>Male/Man</code> ratings, and</li>
<li>there’s no difference between <code>Female/Woman</code> and <code>Another Gender</code> ratings.</li>
</ul>
</section>
</section>
</section>
<section id="gaussian-regression-model-with-lm" class="level1">
<h1>Gaussian regression model with <code>lm()</code></h1>
<p>The most common (but least adequate?) way of analysing rating data is to treat it as numeric and use a Gaussian model like <code>lm()</code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>anx <span class="ot">&lt;-</span> anx <span class="sc">|&gt;</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rating_num =</span> <span class="fu">as.numeric</span>(rating))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Plotting this discrete data as if were continuous looks a bit strange—a hint that things aren’t quite right.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>p_rating_num <span class="ot">&lt;-</span> anx <span class="sc">|&gt;</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> gender, <span class="at">y =</span> rating_num, <span class="at">fill =</span> gender, <span class="at">colour =</span> gender)) <span class="sc">+</span></span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">adjust =</span> <span class="dv">3</span>, <span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> palette_gender) <span class="sc">+</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> palette_gender) <span class="sc">+</span></span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">'none'</span>) <span class="sc">+</span></span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">'Rating (treated incorrectly as numeric)'</span></span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>  <span class="cn">NULL</span></span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>p_rating_num</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="detailed-analyses_files/figure-html/unnamed-chunk-23-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>But nevertheless, the model is fit:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>anx_lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(rating_num <span class="sc">~</span> gender, <span class="at">data =</span> anx)</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(anx_lm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = rating_num ~ gender, data = anx)

Residuals:
    Min      1Q  Median      3Q     Max 
-2.5432 -0.9374  0.0626  1.0626  2.4775 

Coefficients:
                     Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)           2.93740    0.01631 180.104  &lt; 2e-16 ***
genderMale/Man       -0.41485    0.03811 -10.886  &lt; 2e-16 ***
genderAnother Gender  0.60581    0.14950   4.052 5.12e-05 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 1.337 on 8311 degrees of freedom
Multiple R-squared:  0.01649,   Adjusted R-squared:  0.01625 
F-statistic: 69.68 on 2 and 8311 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
</div>
<p>Interpretation:</p>
<ul>
<li>The <code>(Intercept)</code> represents the mean of the ratings for the reference level, <code>Female/Woman</code>.</li>
<li>The parameter <code>genderMale/Man</code> gives the difference between the mean of the ratings for <code>Female/Woman</code> and the mean of the ratings for <code>Male/Man</code>.</li>
<li>The parameter <code>genderAnother Gender</code> gives the difference between the mean of the ratings for <code>Female/Woman</code> and the mean of the ratings for <code>Another Gender</code>.</li>
</ul>
<p>Here’s a visualisation of what those parameters are doing, superimposed on the plot from above.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>p_rating_num <span class="sc">+</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">colour =</span> <span class="st">'black'</span>, <span class="at">fun =</span> mean, <span class="at">geom =</span> <span class="st">'point'</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">colour =</span> <span class="st">'black'</span>, <span class="at">fun.data =</span> mean_cl_boot, <span class="at">geom =</span> <span class="st">"errorbar"</span>, <span class="at">width =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># line from fw to mm</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">colour =</span> <span class="st">'black'</span>, <span class="fu">aes</span>(</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="dv">1</span>,</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">xend =</span> <span class="dv">2</span>,</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="fu">coef</span>(anx_lm)[[<span class="st">'(Intercept)'</span>]],</span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">yend =</span> <span class="fu">coef</span>(anx_lm)[[<span class="st">'(Intercept)'</span>]] <span class="sc">+</span> <span class="fu">coef</span>(anx_lm)[[<span class="st">'genderMale/Man'</span>]]</span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">+</span></span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># line from fw to ag</span></span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">colour =</span> <span class="st">'black'</span>, <span class="fu">aes</span>(</span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="dv">1</span>,</span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">xend =</span> <span class="dv">3</span>,</span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="fu">coef</span>(anx_lm)[[<span class="st">'(Intercept)'</span>]],</span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">yend =</span> <span class="fu">coef</span>(anx_lm)[[<span class="st">'(Intercept)'</span>]] <span class="sc">+</span> <span class="fu">coef</span>(anx_lm)[[<span class="st">'genderAnother Gender'</span>]]</span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">+</span></span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a>  <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="detailed-analyses_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Weird stuff!</p>
</section>
<section id="z-score-conversion-then-gaussian-regression-model-with-lm" class="level1">
<h1>z-score conversion then Gaussian regression model with <code>lm()</code></h1>
<p>Another method of analysing rating data, more sophisticated than the last way but still assuming that rating data can be handled as if it were continuous numeric, first converts ratings to z-scores and then models those z-scores with a Gaussian model.</p>
<p>Converting ratings to z-scores by participant irons out individual participants’ biases in how they use the scale. The z-scores effectively compare each participant’s responses to their own average. So, this is a good way of accounting for (for example) whether people in particular gender groups tend to be more or less anxious on the whole.</p>
<p>However, it’s this step where the funny business lies. The process of z-scoring assumes that the variable to be transformed can sensibly be summarised in terms of its mean and standard deviation, assumptions that don’t necessarily hold for discrete rating data.</p>
<p>Once the values are in z-score form, though, they are continuous numeric and can be reasonably modelled by a Gaussian model.</p>
<p>Anyway: to compute these z-scores, we need to know how participants responded to all the survey questions, not just the one being analysed here. So I’ll read in <code>attn.csv</code>, which contains all the responses from all the participants who passed all seven attention checks.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>attn <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'data/attn.csv'</span>)</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Do some wrangling, then group by participant and compute z-scores.</span></span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>attn_z <span class="ot">&lt;-</span> attn <span class="sc">|&gt;</span> </span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(unique_id, gender, <span class="fu">starts_with</span>(<span class="st">'Q'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">starts_with</span>(<span class="st">'Q'</span>), </span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">'q'</span>, </span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">'score'</span>, </span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_transform =</span> <span class="fu">list</span>(<span class="at">score =</span> as.numeric)</span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(score), <span class="sc">!</span><span class="fu">is.na</span>(gender)) <span class="sc">|&gt;</span> </span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(unique_id) <span class="sc">|&gt;</span> </span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">by_ppt_z =</span> <span class="fu">scale</span>(score))  <span class="co"># get z-score with scale()</span></span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter down to the question we care about.</span></span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a>anx_z <span class="ot">&lt;-</span> attn_z <span class="sc">|&gt;</span> </span>
<span id="cb48-18"><a href="#cb48-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(q <span class="sc">==</span> <span class="st">'Q7.1_3'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb48-19"><a href="#cb48-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(unique_id, gender, by_ppt_z) <span class="sc">|&gt;</span> </span>
<span id="cb48-20"><a href="#cb48-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gender =</span> <span class="fu">factor</span>(gender, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">'Female/Woman'</span>, <span class="st">'Male/Man'</span>, <span class="st">'Another Gender'</span>)))</span>
<span id="cb48-21"><a href="#cb48-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-22"><a href="#cb48-22" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(anx_z)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
# Groups:   unique_id [6]
  unique_id gender       by_ppt_z[,1]
  &lt;chr&gt;     &lt;fct&gt;               &lt;dbl&gt;
1 01057178  Male/Man          -0.0653
2 0300b5f2  Female/Woman      -0.371 
3 03f6503b  Female/Woman      -0.122 
4 08b6cb02  Female/Woman       0.0671
5 0903d70d  Female/Woman      -0.0834
6 093d86f8  Male/Man          -0.0860</code></pre>
</div>
</div>
<p>Have a look at the distribution of z-scores for each gender group:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>p_rating_z <span class="ot">&lt;-</span> anx_z <span class="sc">|&gt;</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> gender, <span class="at">y =</span> by_ppt_z, <span class="at">fill =</span> gender, <span class="at">colour =</span> gender)) <span class="sc">+</span></span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">adjust =</span> <span class="dv">3</span>, <span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> palette_gender) <span class="sc">+</span></span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> palette_gender) <span class="sc">+</span></span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">'none'</span>) <span class="sc">+</span></span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">'z-score (normalised by-participant)'</span></span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a>  <span class="cn">NULL</span></span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a>p_rating_z</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="detailed-analyses_files/figure-html/unnamed-chunk-28-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Fit the model which predicts z-scores by gender group:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>anx_z_lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(by_ppt_z <span class="sc">~</span> gender, <span class="at">data =</span> anx_z)</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(anx_z_lm)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = by_ppt_z ~ gender, data = anx_z)

Residuals:
     Min       1Q   Median       3Q      Max 
-1.43159 -0.19730 -0.02568  0.17008  1.63571 

Coefficients:
                      Estimate Std. Error t value Pr(&gt;|t|)    
(Intercept)          -0.037848   0.003664 -10.330  &lt; 2e-16 ***
genderMale/Man       -0.024506   0.008561  -2.863  0.00421 ** 
genderAnother Gender  0.110074   0.033584   3.278  0.00105 ** 
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 0.3005 on 8311 degrees of freedom
Multiple R-squared:  0.002383,  Adjusted R-squared:  0.002143 
F-statistic: 9.928 on 2 and 8311 DF,  p-value: 4.936e-05</code></pre>
</div>
</div>
<p>Interpretation:</p>
<ul>
<li>The <code>(Intercept)</code> represents the mean of the z-scores for the reference level, <code>Female/Woman</code>.</li>
<li>The parameter <code>genderMale/Man</code> gives the difference between the mean of the z-scores for <code>Female/Woman</code> and the mean of the z-scores for <code>Male/Man</code>.</li>
<li>The parameter <code>genderAnother Gender</code> gives the difference between the mean of the z-scores for <code>Female/Woman</code> and the mean of the z-scores for <code>Another Gender</code>.</li>
</ul>
<p>Overlay the estimated lines on the plot from above:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>p_rating_z <span class="sc">+</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> mean, <span class="at">geom =</span> <span class="st">'point'</span>, <span class="at">size =</span> <span class="dv">2</span>, <span class="at">colour =</span> <span class="st">'black'</span>) <span class="sc">+</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun.data =</span> mean_cl_boot, <span class="at">geom =</span> <span class="st">"errorbar"</span>, <span class="at">width =</span> <span class="fl">0.2</span>, <span class="at">colour =</span> <span class="st">'black'</span>) <span class="sc">+</span></span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># line from fw to mm</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">colour =</span> <span class="st">'black'</span>, <span class="fu">aes</span>(</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="dv">1</span>,</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">xend =</span> <span class="dv">2</span>,</span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="fu">coef</span>(anx_z_lm)[[<span class="st">'(Intercept)'</span>]],</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a>    <span class="at">yend =</span> <span class="fu">coef</span>(anx_z_lm)[[<span class="st">'(Intercept)'</span>]] <span class="sc">+</span> <span class="fu">coef</span>(anx_z_lm)[[<span class="st">'genderMale/Man'</span>]]</span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">+</span></span>
<span id="cb53-11"><a href="#cb53-11" aria-hidden="true" tabindex="-1"></a>  <span class="co"># line from fw to ag</span></span>
<span id="cb53-12"><a href="#cb53-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">colour =</span> <span class="st">'black'</span>, <span class="fu">aes</span>(</span>
<span id="cb53-13"><a href="#cb53-13" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="dv">1</span>,</span>
<span id="cb53-14"><a href="#cb53-14" aria-hidden="true" tabindex="-1"></a>    <span class="at">xend =</span> <span class="dv">3</span>,</span>
<span id="cb53-15"><a href="#cb53-15" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="fu">coef</span>(anx_z_lm)[[<span class="st">'(Intercept)'</span>]],</span>
<span id="cb53-16"><a href="#cb53-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">yend =</span> <span class="fu">coef</span>(anx_z_lm)[[<span class="st">'(Intercept)'</span>]] <span class="sc">+</span> <span class="fu">coef</span>(anx_z_lm)[[<span class="st">'genderAnother Gender'</span>]]</span>
<span id="cb53-17"><a href="#cb53-17" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">+</span></span>
<span id="cb53-18"><a href="#cb53-18" aria-hidden="true" tabindex="-1"></a>  <span class="cn">NULL</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="detailed-analyses_files/figure-html/unnamed-chunk-30-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="resources" class="level1">
<h1>Resources</h1>
<ul>
<li><p>Jamieson’s (2004) paper <a href="https://onlinelibrary.wiley.com/doi/10.1111/j.1365-2929.2004.02012.x">Likert scales: How to (ab)use them.</a></p></li>
<li><p>UCLA Statistical Methods and Data Analytics’s web page <a href="https://stats.oarc.ucla.edu/r/dae/ordinal-logistic-regression/">Ordinal Logistic Regression.</a></p></li>
<li><p>Kurz’ (2021) blog post <a href="https://stats.oarc.ucla.edu/r/dae/ordinal-logistic-regression/">Notes on the Bayesian cumulative probit.</a></p></li>
<li><p>Gelman and Hill’s (2007) book <a href="https://www.cambridge.org/highereducation/books/data-analysis-using-regression-and-multilevel-hierarchical-models/32A29531C7FD730C3A68951A17C9D983">Data Analysis Using Regression and Multilevel/Hierarchical Models.</a></p></li>
</ul>
</section>
<section id="session-info" class="level1">
<h1>Session info</h1>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.4.3 (2025-02-28)
Platform: x86_64-apple-darwin20
Running under: macOS Ventura 13.7.1

Matrix products: default
BLAS:   /Library/Frameworks/R.framework/Versions/4.4-x86_64/Resources/lib/libRblas.0.dylib 
LAPACK: /Library/Frameworks/R.framework/Versions/4.4-x86_64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.0

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

time zone: Europe/London
tzcode source: internal

attached base packages:
[1] stats     graphics  grDevices utils     datasets  methods   base     

other attached packages:
 [1] MASS_7.3-64     lmerTest_3.1-3  lme4_1.1-36     Matrix_1.7-2   
 [5] lubridate_1.9.4 forcats_1.0.0   stringr_1.5.1   dplyr_1.1.4    
 [9] purrr_1.0.4     readr_2.1.5     tidyr_1.3.1     tibble_3.2.1   
[13] ggplot2_3.5.1   tidyverse_2.0.0

loaded via a namespace (and not attached):
 [1] gtable_0.3.6        xfun_0.51           htmlwidgets_1.6.4  
 [4] lattice_0.22-6      tzdb_0.4.0          numDeriv_2016.8-1.1
 [7] vctrs_0.6.5         tools_4.4.3         Rdpack_2.6.2       
[10] generics_0.1.3      parallel_4.4.3      cluster_2.1.8      
[13] pkgconfig_2.0.3     data.table_1.17.0   checkmate_2.3.2    
[16] lifecycle_1.0.4     compiler_4.4.3      farver_2.1.2       
[19] munsell_0.5.1       htmltools_0.5.8.1   yaml_2.3.10        
[22] htmlTable_2.4.3     Formula_1.2-5       pillar_1.10.1      
[25] nloptr_2.2.0        crayon_1.5.3        Hmisc_5.2-2        
[28] reformulas_0.4.0    rpart_4.1.24        boot_1.3-31        
[31] nlme_3.1-167        tidyselect_1.2.1    digest_0.6.37      
[34] stringi_1.8.4       labeling_0.4.3      splines_4.4.3      
[37] rprojroot_2.0.4     fastmap_1.2.0       grid_4.4.3         
[40] here_1.0.1          colorspace_2.1-1    cli_3.6.4          
[43] magrittr_2.0.3      base64enc_0.1-3     utf8_1.2.4         
[46] foreign_0.8-88      withr_3.0.2         backports_1.5.0    
[49] scales_1.3.0        bit64_4.6.0-1       timechange_0.3.0   
[52] rmarkdown_2.29      nnet_7.3-20         bit_4.6.0          
[55] gridExtra_2.3       hms_1.1.3           evaluate_1.0.3     
[58] knitr_1.49          rbibutils_2.3       rlang_1.1.5        
[61] Rcpp_1.0.14         glue_1.8.0          rstudioapi_0.17.1  
[64] vroom_1.6.5         minqa_1.2.8         jsonlite_1.9.1     
[67] R6_2.6.1           </code></pre>
</div>
</div>


<!-- -->

</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>Terry, J., Ross, R. M., Nagy, T., Salgado, M., Garrido-Vásquez, P., Sarfo, J. O., Cooper, S., Buttner, A. C., Lima, T. J. S., Öztürk, İ., Akay, N., Santos, F. H., Artemenko, C., Copping, L. T., Elsherif, M. M., Milovanović, I., Cribbie, R. A., Drushlyak, M. G., Swainston, K., … Field, A. P. (2023). <a href="https://openpsychologydata.metajnl.com/articles/10.5334/jopd.80">Data from an International Multi-Centre Study of Statistics and Mathematics Anxieties and Related Variables in University Students (the SMARVUS Dataset).</a> <em>Journal of Open Psychology Data</em>, 11(1), 8.<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p> If I had used <code>method = "logit"</code>, then the model would assume not a normal distribution but a logistic distribution. Similar shape, but different scale, so (back-)transformation between the model space and probability space would happen not with <code>pnorm()</code>/<code>qnorm()</code> but with <code>plogis()</code>/<code>qlogis()</code>.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p> Ideally we’d be comparing <em>t</em>-values to a <em>t</em> distribution, but with increasing degrees of freedom, the <em>t</em> distribution better approximates the normal distribution. And I’m not too worried about having too few degrees of freedom for a decent approximation, because <code>anx</code> contains a lot of observations.<a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb56" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> Detailed analyses</span></span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span></span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb56-6"><a href="#cb56-6" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb56-7"><a href="#cb56-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-8"><a href="#cb56-8" aria-hidden="true" tabindex="-1"></a><span class="in">```{r setup, include = FALSE}</span></span>
<span id="cb56-9"><a href="#cb56-9" aria-hidden="true" tabindex="-1"></a><span class="in">library(tidyverse)</span></span>
<span id="cb56-10"><a href="#cb56-10" aria-hidden="true" tabindex="-1"></a><span class="in">library(lme4)</span></span>
<span id="cb56-11"><a href="#cb56-11" aria-hidden="true" tabindex="-1"></a><span class="in">library(lmerTest)</span></span>
<span id="cb56-12"><a href="#cb56-12" aria-hidden="true" tabindex="-1"></a><span class="in">library(MASS)</span></span>
<span id="cb56-13"><a href="#cb56-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-14"><a href="#cb56-14" aria-hidden="true" tabindex="-1"></a><span class="in"># To solve some conflicts between packages</span></span>
<span id="cb56-15"><a href="#cb56-15" aria-hidden="true" tabindex="-1"></a><span class="in">select &lt;- dplyr::select</span></span>
<span id="cb56-16"><a href="#cb56-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-17"><a href="#cb56-17" aria-hidden="true" tabindex="-1"></a><span class="in"># knitr settings</span></span>
<span id="cb56-18"><a href="#cb56-18" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::opts_chunk$set(</span></span>
<span id="cb56-19"><a href="#cb56-19" aria-hidden="true" tabindex="-1"></a><span class="in">  fig.retina=3,</span></span>
<span id="cb56-20"><a href="#cb56-20" aria-hidden="true" tabindex="-1"></a><span class="in">  fig.align = "center",</span></span>
<span id="cb56-21"><a href="#cb56-21" aria-hidden="true" tabindex="-1"></a><span class="in">  cache = FALSE,</span></span>
<span id="cb56-22"><a href="#cb56-22" aria-hidden="true" tabindex="-1"></a><span class="in">  echo = TRUE,</span></span>
<span id="cb56-23"><a href="#cb56-23" aria-hidden="true" tabindex="-1"></a><span class="in">  message = FALSE, </span></span>
<span id="cb56-24"><a href="#cb56-24" aria-hidden="true" tabindex="-1"></a><span class="in">  warning = FALSE,</span></span>
<span id="cb56-25"><a href="#cb56-25" aria-hidden="true" tabindex="-1"></a><span class="in">  hiline = TRUE</span></span>
<span id="cb56-26"><a href="#cb56-26" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb56-27"><a href="#cb56-27" aria-hidden="true" tabindex="-1"></a><span class="in">knitr::opts_knit$set(root.dir = here::here())</span></span>
<span id="cb56-28"><a href="#cb56-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-29"><a href="#cb56-29" aria-hidden="true" tabindex="-1"></a><span class="in"># dplyr and ggplot settings</span></span>
<span id="cb56-30"><a href="#cb56-30" aria-hidden="true" tabindex="-1"></a><span class="in">options(dplyr.summarise.inform = FALSE)</span></span>
<span id="cb56-31"><a href="#cb56-31" aria-hidden="true" tabindex="-1"></a><span class="in">theme_set(theme_classic())</span></span>
<span id="cb56-32"><a href="#cb56-32" aria-hidden="true" tabindex="-1"></a><span class="in">theme_update(</span></span>
<span id="cb56-33"><a href="#cb56-33" aria-hidden="true" tabindex="-1"></a><span class="in">  text = element_text(family = "Fira Sans", size = 16),</span></span>
<span id="cb56-34"><a href="#cb56-34" aria-hidden="true" tabindex="-1"></a><span class="in">  strip.background = element_blank()</span></span>
<span id="cb56-35"><a href="#cb56-35" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb56-36"><a href="#cb56-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-37"><a href="#cb56-37" aria-hidden="true" tabindex="-1"></a><span class="in">palette_gender &lt;- c( '#882e72', '#1965b0', '#4eb265')</span></span>
<span id="cb56-38"><a href="#cb56-38" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-39"><a href="#cb56-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-40"><a href="#cb56-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-41"><a href="#cb56-41" aria-hidden="true" tabindex="-1"></a>On this page, I lay out in more technical detail <span class="co">[</span><span class="ot">the analysis of the student anxiety data using `MASS::polr()`</span><span class="co">](#ordinal-regression-with-polr)</span>.</span>
<span id="cb56-42"><a href="#cb56-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-43"><a href="#cb56-43" aria-hidden="true" tabindex="-1"></a>I also (very) briefly illustrate two other widespread ways of analysing ordinal data: <span class="co">[</span><span class="ot">treating it as continuous numeric data and using a Gaussian model</span><span class="co">](#gaussian-regression-model-with-lm)</span>, and <span class="co">[</span><span class="ot">first converting it to z-scores by participant and then using a Gaussian model on those z-scores</span><span class="co">](#z-score-conversion-then-gaussian-regression-model-with-lm)</span>.</span>
<span id="cb56-44"><a href="#cb56-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-45"><a href="#cb56-45" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-46"><a href="#cb56-46" aria-hidden="true" tabindex="-1"></a><span class="fu"># The data</span></span>
<span id="cb56-47"><a href="#cb56-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-48"><a href="#cb56-48" aria-hidden="true" tabindex="-1"></a>The student anxiety rating data comes from <span class="co">[</span><span class="ot">the SMARVUS dataset</span><span class="co">](https://openpsychologydata.metajnl.com/articles/10.5334/jopd.80)</span> compiled by Terry et al. (2023).^<span class="co">[</span><span class="ot">Terry, J., Ross, R. M., Nagy, T., Salgado, M., Garrido-Vásquez, P., Sarfo, J. O., Cooper, S., Buttner, A. C., Lima, T. J. S., Öztürk, İ., Akay, N., Santos, F. H., Artemenko, C., Copping, L. T., Elsherif, M. M., Milovanović, I., Cribbie, R. A., Drushlyak, M. G., Swainston, K., … Field, A. P. (2023). [Data from an International Multi-Centre Study of Statistics and Mathematics Anxieties and Related Variables in University Students (the SMARVUS Dataset).](https://openpsychologydata.metajnl.com/articles/10.5334/jopd.80) *Journal of Open Psychology Data*, 11(1), 8.</span><span class="co">]</span></span>
<span id="cb56-49"><a href="#cb56-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-50"><a href="#cb56-50" aria-hidden="true" tabindex="-1"></a>I first filtered the data to keep only participants who responded correctly to all seven attention checks in the original survey.</span>
<span id="cb56-51"><a href="#cb56-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-52"><a href="#cb56-52" aria-hidden="true" tabindex="-1"></a>For this analysis, I'm using responses to question <span class="in">`Q7.1_3`</span>, which asked students to rate their anxiety from 1 (no anxiety) to 5 (a great deal of anxiety) in response to the following scenario: **"Going to ask my statistics teacher for individual help with material I am having difficulty understanding".**</span>
<span id="cb56-53"><a href="#cb56-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-54"><a href="#cb56-54" aria-hidden="true" tabindex="-1"></a>I only analysed responses from participants who passed all seven attention checks in the original survey, and I extracted each participant's unique ID, their self-reported gender (grouped by the researchers into <span class="in">`Female/Woman`</span>, <span class="in">`Male/Man`</span>, and <span class="in">`Another Gender`</span>), and their rating for question <span class="in">`Q7.1_3`</span>.</span>
<span id="cb56-55"><a href="#cb56-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-56"><a href="#cb56-56" aria-hidden="true" tabindex="-1"></a>This data is saved in <span class="in">`anx.csv`</span>.</span>
<span id="cb56-57"><a href="#cb56-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-60"><a href="#cb56-60" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb56-61"><a href="#cb56-61" aria-hidden="true" tabindex="-1"></a>anx <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'data/anx.csv'</span>) <span class="sc">|&gt;</span></span>
<span id="cb56-62"><a href="#cb56-62" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(unique_id, gender, score) <span class="sc">|&gt;</span> </span>
<span id="cb56-63"><a href="#cb56-63" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename</span>(<span class="at">rating =</span> score)</span>
<span id="cb56-64"><a href="#cb56-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-65"><a href="#cb56-65" aria-hidden="true" tabindex="-1"></a><span class="fu">slice</span>(anx, <span class="dv">45</span><span class="sc">:</span><span class="dv">50</span>)</span>
<span id="cb56-66"><a href="#cb56-66" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-67"><a href="#cb56-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-68"><a href="#cb56-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-69"><a href="#cb56-69" aria-hidden="true" tabindex="-1"></a><span class="fu"># Ordinal regression with `polr()`</span></span>
<span id="cb56-70"><a href="#cb56-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-71"><a href="#cb56-71" aria-hidden="true" tabindex="-1"></a><span class="fu">## Intercept-only model</span></span>
<span id="cb56-72"><a href="#cb56-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-73"><a href="#cb56-73" aria-hidden="true" tabindex="-1"></a><span class="fu">### Look at the data</span></span>
<span id="cb56-74"><a href="#cb56-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-75"><a href="#cb56-75" aria-hidden="true" tabindex="-1"></a>Here's how participant responses, aggregated over <span class="in">`gender`</span>, pattern:</span>
<span id="cb56-76"><a href="#cb56-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-79"><a href="#cb56-79" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb56-80"><a href="#cb56-80" aria-hidden="true" tabindex="-1"></a>anx <span class="sc">|&gt;</span></span>
<span id="cb56-81"><a href="#cb56-81" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">factor</span>(rating))) <span class="sc">+</span></span>
<span id="cb56-82"><a href="#cb56-82" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">fill =</span> <span class="st">'#2e3836'</span>) <span class="sc">+</span></span>
<span id="cb56-83"><a href="#cb56-83" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb56-84"><a href="#cb56-84" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb56-85"><a href="#cb56-85" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">'Count'</span>,</span>
<span id="cb56-86"><a href="#cb56-86" aria-hidden="true" tabindex="-1"></a>    <span class="at">caption =</span> <span class="st">'n = 8,314'</span></span>
<span id="cb56-87"><a href="#cb56-87" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb56-88"><a href="#cb56-88" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_discrete</span>(<span class="at">labels =</span> <span class="fu">c</span>(<span class="st">'1</span><span class="sc">\n</span><span class="st">(no anxiety)'</span>, <span class="st">'2'</span>, <span class="st">'3'</span>, <span class="st">'4'</span>, <span class="st">'5</span><span class="sc">\n</span><span class="st">(a great deal</span><span class="sc">\n</span><span class="st">of anxiety)'</span>)) <span class="sc">+</span></span>
<span id="cb56-89"><a href="#cb56-89" aria-hidden="true" tabindex="-1"></a>  <span class="cn">NULL</span></span>
<span id="cb56-90"><a href="#cb56-90" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-91"><a href="#cb56-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-92"><a href="#cb56-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-93"><a href="#cb56-93" aria-hidden="true" tabindex="-1"></a><span class="fu">### Fit the model</span></span>
<span id="cb56-94"><a href="#cb56-94" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-95"><a href="#cb56-95" aria-hidden="true" tabindex="-1"></a>To use <span class="in">`polr()`</span>, the outcome variable must be a factor.</span>
<span id="cb56-96"><a href="#cb56-96" aria-hidden="true" tabindex="-1"></a>No need to manually specify the order of levels, since they're already in the correct order by default.</span>
<span id="cb56-97"><a href="#cb56-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-100"><a href="#cb56-100" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb56-101"><a href="#cb56-101" aria-hidden="true" tabindex="-1"></a>anx <span class="ot">&lt;-</span> anx <span class="sc">|&gt;</span></span>
<span id="cb56-102"><a href="#cb56-102" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rating =</span> <span class="fu">factor</span>(rating))</span>
<span id="cb56-103"><a href="#cb56-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-104"><a href="#cb56-104" aria-hidden="true" tabindex="-1"></a>anx_fit1 <span class="ot">&lt;-</span> <span class="fu">polr</span>(</span>
<span id="cb56-105"><a href="#cb56-105" aria-hidden="true" tabindex="-1"></a>  rating <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb56-106"><a href="#cb56-106" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> anx,</span>
<span id="cb56-107"><a href="#cb56-107" aria-hidden="true" tabindex="-1"></a>  <span class="at">method =</span> <span class="st">'probit'</span>,</span>
<span id="cb56-108"><a href="#cb56-108" aria-hidden="true" tabindex="-1"></a>  <span class="at">Hess =</span> <span class="cn">TRUE</span>  <span class="co"># set TRUE if want to use summary()</span></span>
<span id="cb56-109"><a href="#cb56-109" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb56-110"><a href="#cb56-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-111"><a href="#cb56-111" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(anx_fit1)</span>
<span id="cb56-112"><a href="#cb56-112" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-113"><a href="#cb56-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-114"><a href="#cb56-114" aria-hidden="true" tabindex="-1"></a><span class="fu">### Interpret the model</span></span>
<span id="cb56-115"><a href="#cb56-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-116"><a href="#cb56-116" aria-hidden="true" tabindex="-1"></a>The values estimated for the <span class="in">`Intercepts`</span> aren't really intercepts, not like the intercept of a linear model.</span>
<span id="cb56-117"><a href="#cb56-117" aria-hidden="true" tabindex="-1"></a>Rather, these values represent the thresholds (also called cutpoints) along a continuous latent variable, a construct which the model assumes to represent some continuous measure of anxiety.</span>
<span id="cb56-118"><a href="#cb56-118" aria-hidden="true" tabindex="-1"></a>Sometimes this assumed continuous latent variable will be represented as $\Phi$ (phi), and sometimes those thresholds will be represented as $\zeta$ (zeta).</span>
<span id="cb56-119"><a href="#cb56-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-120"><a href="#cb56-120" aria-hidden="true" tabindex="-1"></a>We can extract those threshold values as follows:</span>
<span id="cb56-121"><a href="#cb56-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-124"><a href="#cb56-124" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb56-125"><a href="#cb56-125" aria-hidden="true" tabindex="-1"></a>anx_fit1<span class="sc">$</span>zeta</span>
<span id="cb56-126"><a href="#cb56-126" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-127"><a href="#cb56-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-128"><a href="#cb56-128" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-129"><a href="#cb56-129" aria-hidden="true" tabindex="-1"></a>Because I've used the probit link function (in <span class="in">`method = "probit"`</span>), the model further assumes that anxiety follows a standard normal distribution over this continuous latent variable.^[</span>
<span id="cb56-130"><a href="#cb56-130" aria-hidden="true" tabindex="-1"></a>If I had used <span class="in">`method = "logit"`</span>, then the model would assume not a normal distribution but a logistic distribution.</span>
<span id="cb56-131"><a href="#cb56-131" aria-hidden="true" tabindex="-1"></a>Similar shape, but different scale, so (back-)transformation between the model space and probability space would happen not with <span class="in">`pnorm()`</span>/<span class="in">`qnorm()`</span> but with <span class="in">`plogis()`</span>/<span class="in">`qlogis()`</span>.</span>
<span id="cb56-132"><a href="#cb56-132" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb56-133"><a href="#cb56-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-134"><a href="#cb56-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-137"><a href="#cb56-137" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb56-138"><a href="#cb56-138" aria-hidden="true" tabindex="-1"></a>rating_labs1 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb56-139"><a href="#cb56-139" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">2.6</span>, <span class="sc">-</span><span class="fl">1.2</span>, <span class="sc">-</span><span class="fl">0.5</span>, <span class="fl">0.1</span>, <span class="fl">0.7</span>, <span class="fl">1.3</span>),</span>
<span id="cb56-140"><a href="#cb56-140" aria-hidden="true" tabindex="-1"></a>  <span class="at">d =</span> <span class="fu">c</span>(<span class="fl">0.47</span>),</span>
<span id="cb56-141"><a href="#cb56-141" aria-hidden="true" tabindex="-1"></a>  <span class="at">labs =</span> <span class="fu">c</span>(<span class="st">'Rating:'</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span>
<span id="cb56-142"><a href="#cb56-142" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb56-143"><a href="#cb56-143" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-144"><a href="#cb56-144" aria-hidden="true" tabindex="-1"></a>p_underlying_normal <span class="ot">&lt;-</span> <span class="fu">tibble</span>(<span class="at">x =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="sc">-</span><span class="fl">3.5</span>, <span class="at">to =</span> <span class="fl">3.5</span>, <span class="at">length.out =</span> <span class="dv">200</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb56-145"><a href="#cb56-145" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">d =</span> <span class="fu">dnorm</span>(<span class="at">x =</span> x)) <span class="sc">|&gt;</span> </span>
<span id="cb56-146"><a href="#cb56-146" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> d)) <span class="sc">+</span></span>
<span id="cb56-147"><a href="#cb56-147" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_area</span>(<span class="at">fill =</span> <span class="st">'#2e3836'</span>, <span class="at">alpha =</span> <span class="fl">0.4</span>) <span class="sc">+</span></span>
<span id="cb56-148"><a href="#cb56-148" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> rating_labs1, <span class="fu">aes</span>(<span class="at">label =</span> labs), <span class="at">family =</span> <span class="st">"Fira Sans"</span>, <span class="at">size =</span> <span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb56-149"><a href="#cb56-149" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> anx_fit1<span class="sc">$</span>zeta, <span class="at">linetype =</span> <span class="st">'dotted'</span>, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb56-150"><a href="#cb56-150" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb56-151"><a href="#cb56-151" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Anxiety (assumed latent variable)'</span>,</span>
<span id="cb56-152"><a href="#cb56-152" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="sc">-</span><span class="dv">3</span><span class="sc">:</span><span class="dv">3</span>,</span>
<span id="cb56-153"><a href="#cb56-153" aria-hidden="true" tabindex="-1"></a>    <span class="at">sec.axis =</span> <span class="fu">dup_axis</span>(</span>
<span id="cb56-154"><a href="#cb56-154" aria-hidden="true" tabindex="-1"></a>      <span class="at">name =</span> <span class="cn">NULL</span>,</span>
<span id="cb56-155"><a href="#cb56-155" aria-hidden="true" tabindex="-1"></a>      <span class="at">breaks =</span> anx_fit1<span class="sc">$</span>zeta <span class="sc">|&gt;</span> <span class="fu">as.double</span>(),</span>
<span id="cb56-156"><a href="#cb56-156" aria-hidden="true" tabindex="-1"></a>      <span class="at">labels =</span> <span class="fu">round</span>(anx_fit1<span class="sc">$</span>zeta, <span class="dv">2</span>)</span>
<span id="cb56-157"><a href="#cb56-157" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb56-158"><a href="#cb56-158" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb56-159"><a href="#cb56-159" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(</span>
<span id="cb56-160"><a href="#cb56-160" aria-hidden="true" tabindex="-1"></a>    <span class="cn">NULL</span>, </span>
<span id="cb56-161"><a href="#cb56-161" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="cn">NULL</span>,</span>
<span id="cb56-162"><a href="#cb56-162" aria-hidden="true" tabindex="-1"></a>    <span class="at">limits =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fl">0.5</span>)</span>
<span id="cb56-163"><a href="#cb56-163" aria-hidden="true" tabindex="-1"></a>    ) <span class="sc">+</span></span>
<span id="cb56-164"><a href="#cb56-164" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>( </span>
<span id="cb56-165"><a href="#cb56-165" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.line.x.top =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb56-166"><a href="#cb56-166" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks.x.top =</span> <span class="fu">element_blank</span>()</span>
<span id="cb56-167"><a href="#cb56-167" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb56-168"><a href="#cb56-168" aria-hidden="true" tabindex="-1"></a>  <span class="cn">NULL</span></span>
<span id="cb56-169"><a href="#cb56-169" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-170"><a href="#cb56-170" aria-hidden="true" tabindex="-1"></a>p_underlying_normal</span>
<span id="cb56-171"><a href="#cb56-171" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-172"><a href="#cb56-172" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-173"><a href="#cb56-173" aria-hidden="true" tabindex="-1"></a>This normal distribution allows us to compute the probability density within each region defined by the cutpoints.</span>
<span id="cb56-174"><a href="#cb56-174" aria-hidden="true" tabindex="-1"></a>One way to do this is using <span class="in">`pnorm()`</span>, which gives us by default how much probability density falls to the left of the given value in a standard normal distribution.</span>
<span id="cb56-175"><a href="#cb56-175" aria-hidden="true" tabindex="-1"></a>For the intermediate regions, we subtract the probability density below the region's leftward periphery from the probability density below its rightward periphery, to get only the density between those two bounds.</span>
<span id="cb56-176"><a href="#cb56-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-179"><a href="#cb56-179" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb56-180"><a href="#cb56-180" aria-hidden="true" tabindex="-1"></a>(anx_fit1_p1 <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(<span class="sc">-</span><span class="fl">0.84</span>))                  <span class="co"># probability of rating 1</span></span>
<span id="cb56-181"><a href="#cb56-181" aria-hidden="true" tabindex="-1"></a>(anx_fit1_p2 <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(<span class="sc">-</span><span class="fl">0.17</span>) <span class="sc">-</span> <span class="fu">pnorm</span>(<span class="sc">-</span><span class="fl">0.84</span>))   <span class="co"># probability of rating 2</span></span>
<span id="cb56-182"><a href="#cb56-182" aria-hidden="true" tabindex="-1"></a>(anx_fit1_p3 <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(<span class="fl">0.38</span>) <span class="sc">-</span> <span class="fu">pnorm</span>(<span class="sc">-</span><span class="fl">0.17</span>))    <span class="co"># probability of rating 3</span></span>
<span id="cb56-183"><a href="#cb56-183" aria-hidden="true" tabindex="-1"></a>(anx_fit1_p4 <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(<span class="fl">1.03</span>) <span class="sc">-</span> <span class="fu">pnorm</span>(<span class="fl">0.38</span>))     <span class="co"># probability of rating 4</span></span>
<span id="cb56-184"><a href="#cb56-184" aria-hidden="true" tabindex="-1"></a>(anx_fit1_p5 <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(<span class="dv">1000</span>) <span class="sc">-</span> <span class="fu">pnorm</span>(<span class="fl">1.03</span>))     <span class="co"># probability of rating 5</span></span>
<span id="cb56-185"><a href="#cb56-185" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-186"><a href="#cb56-186" aria-hidden="true" tabindex="-1"></a>(For rating 5, I just grabbed some huge value as an arbitrary upper bound.)</span>
<span id="cb56-187"><a href="#cb56-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-188"><a href="#cb56-188" aria-hidden="true" tabindex="-1"></a>A good sense check: these probabilities approximate the overall proportion of responses to each rating in the original data.</span>
<span id="cb56-189"><a href="#cb56-189" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-192"><a href="#cb56-192" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb56-193"><a href="#cb56-193" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(anx<span class="sc">$</span>rating) <span class="sc">/</span> <span class="fu">nrow</span>(anx)</span>
<span id="cb56-194"><a href="#cb56-194" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-195"><a href="#cb56-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-196"><a href="#cb56-196" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-197"><a href="#cb56-197" aria-hidden="true" tabindex="-1"></a>Here's one way to visualise the probability density within each region of the distribution.</span>
<span id="cb56-198"><a href="#cb56-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-201"><a href="#cb56-201" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb56-202"><a href="#cb56-202" aria-hidden="true" tabindex="-1"></a>anx_fit1_probs <span class="ot">&lt;-</span> <span class="fu">c</span>(anx_fit1_p1, anx_fit1_p2, anx_fit1_p3, anx_fit1_p4, anx_fit1_p5)</span>
<span id="cb56-203"><a href="#cb56-203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-204"><a href="#cb56-204" aria-hidden="true" tabindex="-1"></a>prob_labs1 <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb56-205"><a href="#cb56-205" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">2.6</span>, <span class="sc">-</span><span class="fl">1.2</span>, <span class="sc">-</span><span class="fl">0.5</span>, <span class="fl">0.1</span>, <span class="fl">0.7</span>, <span class="fl">1.3</span>),</span>
<span id="cb56-206"><a href="#cb56-206" aria-hidden="true" tabindex="-1"></a>  <span class="at">d =</span> <span class="fu">c</span>(<span class="fl">0.1</span>),</span>
<span id="cb56-207"><a href="#cb56-207" aria-hidden="true" tabindex="-1"></a>  <span class="at">labs =</span> <span class="fu">c</span>(<span class="st">'Probability:'</span>, <span class="fu">round</span>(anx_fit1_probs, <span class="dv">2</span>))</span>
<span id="cb56-208"><a href="#cb56-208" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb56-209"><a href="#cb56-209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-210"><a href="#cb56-210" aria-hidden="true" tabindex="-1"></a>p_underlying_normal <span class="sc">+</span></span>
<span id="cb56-211"><a href="#cb56-211" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> prob_labs1, <span class="fu">aes</span>(<span class="at">label =</span> labs), <span class="at">family =</span> <span class="st">"Fira Sans"</span>)</span>
<span id="cb56-212"><a href="#cb56-212" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-213"><a href="#cb56-213" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-214"><a href="#cb56-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-215"><a href="#cb56-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-216"><a href="#cb56-216" aria-hidden="true" tabindex="-1"></a><span class="fu">## `rating ~ gender`</span></span>
<span id="cb56-217"><a href="#cb56-217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-218"><a href="#cb56-218" aria-hidden="true" tabindex="-1"></a><span class="fu">### Look at the data</span></span>
<span id="cb56-219"><a href="#cb56-219" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-220"><a href="#cb56-220" aria-hidden="true" tabindex="-1"></a>I'll first convert <span class="in">`gender`</span> to a factor with a custom ordering.</span>
<span id="cb56-221"><a href="#cb56-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-224"><a href="#cb56-224" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb56-225"><a href="#cb56-225" aria-hidden="true" tabindex="-1"></a>anx <span class="ot">&lt;-</span> anx <span class="sc">|&gt;</span></span>
<span id="cb56-226"><a href="#cb56-226" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gender =</span> <span class="fu">factor</span>(gender, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">'Female/Woman'</span>, <span class="st">'Male/Man'</span>, <span class="st">'Another Gender'</span>)))</span>
<span id="cb56-227"><a href="#cb56-227" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-228"><a href="#cb56-228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-229"><a href="#cb56-229" aria-hidden="true" tabindex="-1"></a>Participants' anxiety ratings for the same question as above, now divided by their gender:</span>
<span id="cb56-230"><a href="#cb56-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-231"><a href="#cb56-231" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, fig.height=6}</span></span>
<span id="cb56-232"><a href="#cb56-232" aria-hidden="true" tabindex="-1"></a><span class="in">anx |&gt;</span></span>
<span id="cb56-233"><a href="#cb56-233" aria-hidden="true" tabindex="-1"></a><span class="in">  ggplot(aes(x = rating, fill = gender)) +</span></span>
<span id="cb56-234"><a href="#cb56-234" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_bar() +</span></span>
<span id="cb56-235"><a href="#cb56-235" aria-hidden="true" tabindex="-1"></a><span class="in">  facet_wrap(~ gender, scales = 'free', nrow=3) +</span></span>
<span id="cb56-236"><a href="#cb56-236" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_fill_manual(values = palette_gender) +</span></span>
<span id="cb56-237"><a href="#cb56-237" aria-hidden="true" tabindex="-1"></a><span class="in">  labs(</span></span>
<span id="cb56-238"><a href="#cb56-238" aria-hidden="true" tabindex="-1"></a><span class="in">    x = element_blank(),</span></span>
<span id="cb56-239"><a href="#cb56-239" aria-hidden="true" tabindex="-1"></a><span class="in">    y = 'Count'</span></span>
<span id="cb56-240"><a href="#cb56-240" aria-hidden="true" tabindex="-1"></a><span class="in">  ) +</span></span>
<span id="cb56-241"><a href="#cb56-241" aria-hidden="true" tabindex="-1"></a><span class="in">  theme(legend.position = 'none') +</span></span>
<span id="cb56-242"><a href="#cb56-242" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_x_discrete(labels = c('1\n(no anxiety)', '2', '3', '4', '5\n(a great deal\nof anxiety)')) +</span></span>
<span id="cb56-243"><a href="#cb56-243" aria-hidden="true" tabindex="-1"></a><span class="in">  NULL</span></span>
<span id="cb56-244"><a href="#cb56-244" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-245"><a href="#cb56-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-246"><a href="#cb56-246" aria-hidden="true" tabindex="-1"></a>(Yikes, right? 😞)</span>
<span id="cb56-247"><a href="#cb56-247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-248"><a href="#cb56-248" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-249"><a href="#cb56-249" aria-hidden="true" tabindex="-1"></a><span class="fu">### Fit the model</span></span>
<span id="cb56-250"><a href="#cb56-250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-251"><a href="#cb56-251" aria-hidden="true" tabindex="-1"></a>I'm going to use R's default treatment coding for <span class="in">`gender`</span>.</span>
<span id="cb56-252"><a href="#cb56-252" aria-hidden="true" tabindex="-1"></a>Because of the level ordering I specified above for <span class="in">`gender`</span>, <span class="in">`Female/Woman`</span> will be the reference level, and we'll get two dummy variables: one comparing <span class="in">`Female/Woman`</span> to <span class="in">`Male/Man`</span>, and one comparing <span class="in">`Female/Woman`</span> to <span class="in">`Another Gender`</span>.</span>
<span id="cb56-253"><a href="#cb56-253" aria-hidden="true" tabindex="-1"></a>To confirm:</span>
<span id="cb56-254"><a href="#cb56-254" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-257"><a href="#cb56-257" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb56-258"><a href="#cb56-258" aria-hidden="true" tabindex="-1"></a><span class="fu">contrasts</span>(anx<span class="sc">$</span>gender)</span>
<span id="cb56-259"><a href="#cb56-259" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-260"><a href="#cb56-260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-263"><a href="#cb56-263" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb56-264"><a href="#cb56-264" aria-hidden="true" tabindex="-1"></a>anx_fit2 <span class="ot">&lt;-</span> <span class="fu">polr</span>(</span>
<span id="cb56-265"><a href="#cb56-265" aria-hidden="true" tabindex="-1"></a>  rating <span class="sc">~</span> gender,</span>
<span id="cb56-266"><a href="#cb56-266" aria-hidden="true" tabindex="-1"></a>  <span class="at">data =</span> anx,</span>
<span id="cb56-267"><a href="#cb56-267" aria-hidden="true" tabindex="-1"></a>  <span class="at">method =</span> <span class="st">'probit'</span>,</span>
<span id="cb56-268"><a href="#cb56-268" aria-hidden="true" tabindex="-1"></a>  <span class="at">Hess =</span> <span class="cn">TRUE</span></span>
<span id="cb56-269"><a href="#cb56-269" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb56-270"><a href="#cb56-270" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-271"><a href="#cb56-271" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(anx_fit2)</span>
<span id="cb56-272"><a href="#cb56-272" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-273"><a href="#cb56-273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-274"><a href="#cb56-274" aria-hidden="true" tabindex="-1"></a><span class="fu">### Interpret the model</span></span>
<span id="cb56-275"><a href="#cb56-275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-276"><a href="#cb56-276" aria-hidden="true" tabindex="-1"></a>Just as the <span class="in">`Intercepts`</span> aren't the intercept of a line, the <span class="in">`Coefficients`</span> are not the slope of a line.</span>
<span id="cb56-277"><a href="#cb56-277" aria-hidden="true" tabindex="-1"></a>Rather, they give the mean of the normal distribution that represents how each gender group's ratings are distributed over the continuous latent variable representing anxiety.</span>
<span id="cb56-278"><a href="#cb56-278" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-279"><a href="#cb56-279" aria-hidden="true" tabindex="-1"></a>In other words, the normal distribution representing <span class="in">`Male/Man`</span> anxiety is shifted leftward by 0.33 units from the reference distribution (<span class="in">`Female/Woman`</span>, still centered at 0), while the <span class="in">`Another Gender`</span> distribution is shifted rightward by 0.48 units.</span>
<span id="cb56-280"><a href="#cb56-280" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-283"><a href="#cb56-283" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb56-284"><a href="#cb56-284" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">coef</span>(anx_fit2), <span class="dv">2</span>)</span>
<span id="cb56-285"><a href="#cb56-285" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-286"><a href="#cb56-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-287"><a href="#cb56-287" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-288"><a href="#cb56-288" aria-hidden="true" tabindex="-1"></a>The following code computes the probability density at each value of this latent continuous variable for each gender group's distribution.</span>
<span id="cb56-289"><a href="#cb56-289" aria-hidden="true" tabindex="-1"></a>I'll use it to plot all three groups' probability distributions below.</span>
<span id="cb56-290"><a href="#cb56-290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-293"><a href="#cb56-293" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb56-294"><a href="#cb56-294" aria-hidden="true" tabindex="-1"></a>anx_fit2_latent_normals <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb56-295"><a href="#cb56-295" aria-hidden="true" tabindex="-1"></a>  <span class="at">Gender =</span> <span class="fu">factor</span>(</span>
<span id="cb56-296"><a href="#cb56-296" aria-hidden="true" tabindex="-1"></a>    <span class="fu">c</span>(<span class="st">'Female/Woman'</span>, <span class="st">'Male/Man'</span>, <span class="st">'Another Gender'</span>),</span>
<span id="cb56-297"><a href="#cb56-297" aria-hidden="true" tabindex="-1"></a>    <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">'Female/Woman'</span>, <span class="st">'Male/Man'</span>, <span class="st">'Another Gender'</span>)),</span>
<span id="cb56-298"><a href="#cb56-298" aria-hidden="true" tabindex="-1"></a>  <span class="at">mu =</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="fu">coef</span>(anx_fit2))</span>
<span id="cb56-299"><a href="#cb56-299" aria-hidden="true" tabindex="-1"></a>) <span class="sc">|&gt;</span></span>
<span id="cb56-300"><a href="#cb56-300" aria-hidden="true" tabindex="-1"></a>  tidyr<span class="sc">::</span><span class="fu">expand</span>(</span>
<span id="cb56-301"><a href="#cb56-301" aria-hidden="true" tabindex="-1"></a>    <span class="fu">nesting</span>(Gender, mu),</span>
<span id="cb56-302"><a href="#cb56-302" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="sc">-</span><span class="fl">3.5</span>, <span class="at">to =</span> <span class="fl">3.5</span>, <span class="at">length.out =</span> <span class="dv">200</span>)</span>
<span id="cb56-303"><a href="#cb56-303" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb56-304"><a href="#cb56-304" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb56-305"><a href="#cb56-305" aria-hidden="true" tabindex="-1"></a>    <span class="at">d =</span> <span class="fu">dnorm</span>(x, <span class="at">mean =</span> mu, <span class="at">sd =</span> <span class="dv">1</span>)  <span class="co"># get dens at each x value for normal distrib with each row's mu</span></span>
<span id="cb56-306"><a href="#cb56-306" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb56-307"><a href="#cb56-307" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-308"><a href="#cb56-308" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(anx_fit2_latent_normals)</span>
<span id="cb56-309"><a href="#cb56-309" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-310"><a href="#cb56-310" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-311"><a href="#cb56-311" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-312"><a href="#cb56-312" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-313"><a href="#cb56-313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-314"><a href="#cb56-314" aria-hidden="true" tabindex="-1"></a><span class="in">```{r fig.height = 6}</span></span>
<span id="cb56-315"><a href="#cb56-315" aria-hidden="true" tabindex="-1"></a><span class="in">rating_labs &lt;- tibble(</span></span>
<span id="cb56-316"><a href="#cb56-316" aria-hidden="true" tabindex="-1"></a><span class="in">  x = c(-2.6, -1.4, -0.6, 0.1, 0.7, 1.5),</span></span>
<span id="cb56-317"><a href="#cb56-317" aria-hidden="true" tabindex="-1"></a><span class="in">  d = c(0.57),</span></span>
<span id="cb56-318"><a href="#cb56-318" aria-hidden="true" tabindex="-1"></a><span class="in">  labs = c('Rating:', 1:5),</span></span>
<span id="cb56-319"><a href="#cb56-319" aria-hidden="true" tabindex="-1"></a><span class="in">  Gender = c('Female/Woman')</span></span>
<span id="cb56-320"><a href="#cb56-320" aria-hidden="true" tabindex="-1"></a><span class="in">)</span></span>
<span id="cb56-321"><a href="#cb56-321" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-322"><a href="#cb56-322" aria-hidden="true" tabindex="-1"></a><span class="in">mm_mean &lt;- anx_fit2$coefficients[['genderMale/Man']]</span></span>
<span id="cb56-323"><a href="#cb56-323" aria-hidden="true" tabindex="-1"></a><span class="in">ag_mean &lt;- anx_fit2$coefficients[['genderAnother Gender']]</span></span>
<span id="cb56-324"><a href="#cb56-324" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-325"><a href="#cb56-325" aria-hidden="true" tabindex="-1"></a><span class="in">anx_fit2_latent_normals |&gt;</span></span>
<span id="cb56-326"><a href="#cb56-326" aria-hidden="true" tabindex="-1"></a><span class="in">  ggplot(aes(x = x, y = d, fill = Gender)) +</span></span>
<span id="cb56-327"><a href="#cb56-327" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_area(position = 'identity', alpha = 0.5) +</span></span>
<span id="cb56-328"><a href="#cb56-328" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_vline(xintercept = anx_fit2$zeta, linetype = 'dotted', linewidth = 1) +</span></span>
<span id="cb56-329"><a href="#cb56-329" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_vline(linewidth = 1, xintercept = 0, colour = palette_gender[1]) +</span></span>
<span id="cb56-330"><a href="#cb56-330" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_vline(linewidth = 1, xintercept = mm_mean, colour = palette_gender[2]) +</span></span>
<span id="cb56-331"><a href="#cb56-331" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_vline(linewidth = 1, xintercept = ag_mean, colour = palette_gender[3]) +</span></span>
<span id="cb56-332"><a href="#cb56-332" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_text(data = rating_labs, aes(label = labs), family = 'Fira Sans', size = 8) +</span></span>
<span id="cb56-333"><a href="#cb56-333" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_fill_manual(values = palette_gender) +</span></span>
<span id="cb56-334"><a href="#cb56-334" aria-hidden="true" tabindex="-1"></a><span class="in">  theme(</span></span>
<span id="cb56-335"><a href="#cb56-335" aria-hidden="true" tabindex="-1"></a><span class="in">    axis.line.x.top = element_blank(),</span></span>
<span id="cb56-336"><a href="#cb56-336" aria-hidden="true" tabindex="-1"></a><span class="in">    axis.ticks.x.top = element_blank(),</span></span>
<span id="cb56-337"><a href="#cb56-337" aria-hidden="true" tabindex="-1"></a><span class="in">    legend.position = 'bottom'</span></span>
<span id="cb56-338"><a href="#cb56-338" aria-hidden="true" tabindex="-1"></a><span class="in">  ) +</span></span>
<span id="cb56-339"><a href="#cb56-339" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_y_continuous(NULL, breaks = NULL, limits = c(0, 0.6)) +</span></span>
<span id="cb56-340"><a href="#cb56-340" aria-hidden="true" tabindex="-1"></a><span class="in">  scale_x_continuous(</span></span>
<span id="cb56-341"><a href="#cb56-341" aria-hidden="true" tabindex="-1"></a><span class="in">    'Anxiety (assumed latent variable)', </span></span>
<span id="cb56-342"><a href="#cb56-342" aria-hidden="true" tabindex="-1"></a><span class="in">    breaks = -3:3,</span></span>
<span id="cb56-343"><a href="#cb56-343" aria-hidden="true" tabindex="-1"></a><span class="in">    sec.axis = dup_axis(</span></span>
<span id="cb56-344"><a href="#cb56-344" aria-hidden="true" tabindex="-1"></a><span class="in">      name = NULL,</span></span>
<span id="cb56-345"><a href="#cb56-345" aria-hidden="true" tabindex="-1"></a><span class="in">      breaks = anx_fit2$zeta |&gt; as.double(),</span></span>
<span id="cb56-346"><a href="#cb56-346" aria-hidden="true" tabindex="-1"></a><span class="in">      labels = round(anx_fit2$zeta, 2)</span></span>
<span id="cb56-347"><a href="#cb56-347" aria-hidden="true" tabindex="-1"></a><span class="in">    )) +</span></span>
<span id="cb56-348"><a href="#cb56-348" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_segment(aes(x= 0, y = 0.44, xend = mm_mean, yend = 0.44), linewidth = 1.5, arrow = arrow(length = unit(0.5,"cm")), colour = palette_gender[2]) +</span></span>
<span id="cb56-349"><a href="#cb56-349" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_label(aes(x = -0.33, y = 0.49), label = round(mm_mean, 2), fill = 'white', colour = palette_gender[2], family = 'Fira Sans', label.size = 1, size = 6) +</span></span>
<span id="cb56-350"><a href="#cb56-350" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_segment(aes(x= 0, y = 0.44, xend = ag_mean, yend = 0.44), linewidth = 1.5, arrow = arrow(length = unit(0.5,"cm")), colour = palette_gender[3]) +</span></span>
<span id="cb56-351"><a href="#cb56-351" aria-hidden="true" tabindex="-1"></a><span class="in">  geom_label(aes(x = 0.48, y = 0.49), label = round(ag_mean, 2), fill = 'white', colour = palette_gender[3], family = 'Fira Sans', label.size = 1, size = 6) +</span></span>
<span id="cb56-352"><a href="#cb56-352" aria-hidden="true" tabindex="-1"></a><span class="in">  NULL</span></span>
<span id="cb56-353"><a href="#cb56-353" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-354"><a href="#cb56-354" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-355"><a href="#cb56-355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-356"><a href="#cb56-356" aria-hidden="true" tabindex="-1"></a>Shifting the normal distributions left and right changes how much probability density is allocated to each region, each rating.</span>
<span id="cb56-357"><a href="#cb56-357" aria-hidden="true" tabindex="-1"></a>The thresholds do not move.</span>
<span id="cb56-358"><a href="#cb56-358" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-359"><a href="#cb56-359" aria-hidden="true" tabindex="-1"></a>The following function estimates the probability density between given thresholds for a normal distribution with given mean and standard deviation (in these models, I've allowed the standard deviation to stay fixed at 1).</span>
<span id="cb56-360"><a href="#cb56-360" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-363"><a href="#cb56-363" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb56-364"><a href="#cb56-364" aria-hidden="true" tabindex="-1"></a>get_prob_dens <span class="ot">&lt;-</span> <span class="cf">function</span>(zetas, mu, sigma){</span>
<span id="cb56-365"><a href="#cb56-365" aria-hidden="true" tabindex="-1"></a>  <span class="co"># zetas: numeric vector, list of thresholds in Phi space (from polr model)</span></span>
<span id="cb56-366"><a href="#cb56-366" aria-hidden="true" tabindex="-1"></a>  <span class="co"># mu: numeric, mean of normal distribution</span></span>
<span id="cb56-367"><a href="#cb56-367" aria-hidden="true" tabindex="-1"></a>  <span class="co"># sigma: positive numeric, standard deviation of normal distribution</span></span>
<span id="cb56-368"><a href="#cb56-368" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb56-369"><a href="#cb56-369" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Back-transform thresholds into probability space according to location </span></span>
<span id="cb56-370"><a href="#cb56-370" aria-hidden="true" tabindex="-1"></a>  <span class="co"># of shifted normal. Outcome contains cumulative probabilities.</span></span>
<span id="cb56-371"><a href="#cb56-371" aria-hidden="true" tabindex="-1"></a>  prob_spc_thresholds <span class="ot">&lt;-</span> <span class="fu">pnorm</span>(zetas, <span class="at">mean =</span> mu, <span class="at">sd =</span> sigma)  </span>
<span id="cb56-372"><a href="#cb56-372" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb56-373"><a href="#cb56-373" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Add first and last elements to this cumsum so that successive differences </span></span>
<span id="cb56-374"><a href="#cb56-374" aria-hidden="true" tabindex="-1"></a>  <span class="co"># come out right.</span></span>
<span id="cb56-375"><a href="#cb56-375" aria-hidden="true" tabindex="-1"></a>  probs_btwn_thresholds <span class="ot">&lt;-</span> <span class="fu">diff</span>( <span class="fu">c</span>(<span class="st">`</span><span class="at">1</span><span class="st">`</span> <span class="ot">=</span> <span class="dv">0</span>, prob_spc_thresholds, <span class="st">'x'</span> <span class="ot">=</span> <span class="dv">1</span>) )</span>
<span id="cb56-376"><a href="#cb56-376" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb56-377"><a href="#cb56-377" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Rename each element in the vector to the between-threshold sections.</span></span>
<span id="cb56-378"><a href="#cb56-378" aria-hidden="true" tabindex="-1"></a>  <span class="fu">names</span>(probs_btwn_thresholds) <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="fu">length</span>(probs_btwn_thresholds)</span>
<span id="cb56-379"><a href="#cb56-379" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb56-380"><a href="#cb56-380" aria-hidden="true" tabindex="-1"></a>  probs_btwn_thresholds</span>
<span id="cb56-381"><a href="#cb56-381" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb56-382"><a href="#cb56-382" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-383"><a href="#cb56-383" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-384"><a href="#cb56-384" aria-hidden="true" tabindex="-1"></a>Another way of visualising each resulting probability distributions is as follows.</span>
<span id="cb56-385"><a href="#cb56-385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-388"><a href="#cb56-388" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb56-389"><a href="#cb56-389" aria-hidden="true" tabindex="-1"></a>fw_probs <span class="ot">&lt;-</span> <span class="fu">get_prob_dens</span>(anx_fit2<span class="sc">$</span>zeta, <span class="dv">0</span>, <span class="dv">1</span>)</span>
<span id="cb56-390"><a href="#cb56-390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-391"><a href="#cb56-391" aria-hidden="true" tabindex="-1"></a>fw_prob_labs <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb56-392"><a href="#cb56-392" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">2.6</span>, <span class="sc">-</span><span class="fl">1.4</span>, <span class="sc">-</span><span class="fl">0.56</span>, <span class="fl">0.05</span>, <span class="fl">0.66</span>, <span class="fl">1.45</span>),</span>
<span id="cb56-393"><a href="#cb56-393" aria-hidden="true" tabindex="-1"></a>  <span class="at">d =</span> <span class="fu">c</span>(<span class="fl">0.05</span>),</span>
<span id="cb56-394"><a href="#cb56-394" aria-hidden="true" tabindex="-1"></a>  <span class="at">labs =</span> <span class="fu">c</span>(<span class="st">'Probability:'</span>, <span class="fu">round</span>(fw_probs, <span class="dv">2</span>)),</span>
<span id="cb56-395"><a href="#cb56-395" aria-hidden="true" tabindex="-1"></a>  <span class="at">Gender =</span> <span class="st">'Female/Woman'</span></span>
<span id="cb56-396"><a href="#cb56-396" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb56-397"><a href="#cb56-397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-398"><a href="#cb56-398" aria-hidden="true" tabindex="-1"></a>anx_fit2_latent_normals <span class="sc">|&gt;</span></span>
<span id="cb56-399"><a href="#cb56-399" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Gender <span class="sc">==</span> <span class="st">'Female/Woman'</span>) <span class="sc">|&gt;</span></span>
<span id="cb56-400"><a href="#cb56-400" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> d)) <span class="sc">+</span></span>
<span id="cb56-401"><a href="#cb56-401" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_area</span>(<span class="at">position =</span> <span class="st">'identity'</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">fill =</span> palette_gender[<span class="dv">1</span>]) <span class="sc">+</span></span>
<span id="cb56-402"><a href="#cb56-402" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> anx_fit2<span class="sc">$</span>zeta, <span class="at">linetype =</span> <span class="st">'dotted'</span>) <span class="sc">+</span></span>
<span id="cb56-403"><a href="#cb56-403" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> fw_prob_labs, <span class="fu">aes</span>(<span class="at">label =</span> labs), <span class="at">family =</span> <span class="st">'Fira Sans'</span>) <span class="sc">+</span></span>
<span id="cb56-404"><a href="#cb56-404" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> rating_labs, <span class="fu">aes</span>(<span class="at">y =</span> d<span class="fl">-0.15</span>, <span class="at">label =</span> labs), <span class="at">family =</span> <span class="st">'Fira Sans'</span>, <span class="at">size =</span> <span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb56-405"><a href="#cb56-405" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb56-406"><a href="#cb56-406" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.line.x.top =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb56-407"><a href="#cb56-407" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks.x.top =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb56-408"><a href="#cb56-408" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">'none'</span>,</span>
<span id="cb56-409"><a href="#cb56-409" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb56-410"><a href="#cb56-410" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="cn">NULL</span>, <span class="at">breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb56-411"><a href="#cb56-411" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb56-412"><a href="#cb56-412" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Anxiety (assumed latent variable)'</span>, </span>
<span id="cb56-413"><a href="#cb56-413" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="sc">-</span><span class="dv">3</span><span class="sc">:</span><span class="dv">3</span>,</span>
<span id="cb56-414"><a href="#cb56-414" aria-hidden="true" tabindex="-1"></a>    <span class="at">sec.axis =</span> <span class="fu">dup_axis</span>(</span>
<span id="cb56-415"><a href="#cb56-415" aria-hidden="true" tabindex="-1"></a>      <span class="at">name =</span> <span class="cn">NULL</span>,</span>
<span id="cb56-416"><a href="#cb56-416" aria-hidden="true" tabindex="-1"></a>      <span class="at">breaks =</span> anx_fit2<span class="sc">$</span>zeta <span class="sc">|&gt;</span> <span class="fu">as.double</span>(),</span>
<span id="cb56-417"><a href="#cb56-417" aria-hidden="true" tabindex="-1"></a>      <span class="at">labels =</span> <span class="fu">round</span>(anx_fit2<span class="sc">$</span>zeta, <span class="dv">2</span>)</span>
<span id="cb56-418"><a href="#cb56-418" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">+</span></span>
<span id="cb56-419"><a href="#cb56-419" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">'Female/Woman'</span>) <span class="sc">+</span></span>
<span id="cb56-420"><a href="#cb56-420" aria-hidden="true" tabindex="-1"></a>  <span class="cn">NULL</span></span>
<span id="cb56-421"><a href="#cb56-421" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-422"><a href="#cb56-422" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-425"><a href="#cb56-425" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb56-426"><a href="#cb56-426" aria-hidden="true" tabindex="-1"></a>mm_probs <span class="ot">&lt;-</span> <span class="fu">get_prob_dens</span>(anx_fit2<span class="sc">$</span>zeta, mm_mean, <span class="dv">1</span>)</span>
<span id="cb56-427"><a href="#cb56-427" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-428"><a href="#cb56-428" aria-hidden="true" tabindex="-1"></a>mm_prob_labs <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb56-429"><a href="#cb56-429" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">2.6</span>, <span class="sc">-</span><span class="fl">1.4</span>, <span class="sc">-</span><span class="fl">0.56</span>, <span class="fl">0.05</span>, <span class="fl">0.66</span>, <span class="fl">1.3</span>),</span>
<span id="cb56-430"><a href="#cb56-430" aria-hidden="true" tabindex="-1"></a>  <span class="at">d =</span> <span class="fu">c</span>(<span class="fl">0.05</span>),</span>
<span id="cb56-431"><a href="#cb56-431" aria-hidden="true" tabindex="-1"></a>  <span class="at">labs =</span> <span class="fu">c</span>(<span class="st">'Probability:'</span>, <span class="fu">round</span>(mm_probs, <span class="dv">2</span>)),</span>
<span id="cb56-432"><a href="#cb56-432" aria-hidden="true" tabindex="-1"></a>  <span class="at">Gender =</span> <span class="st">'Male/Man'</span></span>
<span id="cb56-433"><a href="#cb56-433" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb56-434"><a href="#cb56-434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-435"><a href="#cb56-435" aria-hidden="true" tabindex="-1"></a>anx_fit2_latent_normals <span class="sc">|&gt;</span></span>
<span id="cb56-436"><a href="#cb56-436" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Gender <span class="sc">==</span> <span class="st">'Male/Man'</span>) <span class="sc">|&gt;</span></span>
<span id="cb56-437"><a href="#cb56-437" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> d)) <span class="sc">+</span></span>
<span id="cb56-438"><a href="#cb56-438" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_area</span>(<span class="at">position =</span> <span class="st">'identity'</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">fill =</span> palette_gender[<span class="dv">2</span>]) <span class="sc">+</span></span>
<span id="cb56-439"><a href="#cb56-439" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> anx_fit2<span class="sc">$</span>zeta, <span class="at">linetype =</span> <span class="st">'dotted'</span>) <span class="sc">+</span></span>
<span id="cb56-440"><a href="#cb56-440" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> mm_prob_labs, <span class="fu">aes</span>(<span class="at">label =</span> labs), <span class="at">family =</span> <span class="st">'Fira Sans'</span>) <span class="sc">+</span></span>
<span id="cb56-441"><a href="#cb56-441" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> rating_labs, <span class="fu">aes</span>(<span class="at">y =</span> d<span class="fl">-0.15</span>, <span class="at">label =</span> labs), <span class="at">family =</span> <span class="st">'Fira Sans'</span>, <span class="at">size =</span> <span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb56-442"><a href="#cb56-442" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb56-443"><a href="#cb56-443" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.line.x.top =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb56-444"><a href="#cb56-444" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks.x.top =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb56-445"><a href="#cb56-445" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">'none'</span>,</span>
<span id="cb56-446"><a href="#cb56-446" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb56-447"><a href="#cb56-447" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="cn">NULL</span>, <span class="at">breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb56-448"><a href="#cb56-448" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb56-449"><a href="#cb56-449" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Anxiety (assumed latent variable)'</span>, </span>
<span id="cb56-450"><a href="#cb56-450" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="sc">-</span><span class="dv">3</span><span class="sc">:</span><span class="dv">3</span>,</span>
<span id="cb56-451"><a href="#cb56-451" aria-hidden="true" tabindex="-1"></a>    <span class="at">sec.axis =</span> <span class="fu">dup_axis</span>(</span>
<span id="cb56-452"><a href="#cb56-452" aria-hidden="true" tabindex="-1"></a>      <span class="at">name =</span> <span class="cn">NULL</span>,</span>
<span id="cb56-453"><a href="#cb56-453" aria-hidden="true" tabindex="-1"></a>      <span class="at">breaks =</span> anx_fit2<span class="sc">$</span>zeta <span class="sc">|&gt;</span> <span class="fu">as.double</span>(),</span>
<span id="cb56-454"><a href="#cb56-454" aria-hidden="true" tabindex="-1"></a>      <span class="at">labels =</span> <span class="fu">round</span>(anx_fit2<span class="sc">$</span>zeta, <span class="dv">2</span>)</span>
<span id="cb56-455"><a href="#cb56-455" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">+</span></span>
<span id="cb56-456"><a href="#cb56-456" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">'Male/Man'</span>) <span class="sc">+</span></span>
<span id="cb56-457"><a href="#cb56-457" aria-hidden="true" tabindex="-1"></a>  <span class="cn">NULL</span></span>
<span id="cb56-458"><a href="#cb56-458" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-459"><a href="#cb56-459" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-462"><a href="#cb56-462" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb56-463"><a href="#cb56-463" aria-hidden="true" tabindex="-1"></a>ag_probs <span class="ot">&lt;-</span> <span class="fu">get_prob_dens</span>(anx_fit2<span class="sc">$</span>zeta, ag_mean, <span class="dv">1</span>)</span>
<span id="cb56-464"><a href="#cb56-464" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-465"><a href="#cb56-465" aria-hidden="true" tabindex="-1"></a>ag_prob_labs <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb56-466"><a href="#cb56-466" aria-hidden="true" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fl">2.6</span>, <span class="sc">-</span><span class="fl">1.2</span>, <span class="sc">-</span><span class="fl">0.56</span>, <span class="fl">0.05</span>, <span class="fl">0.66</span>, <span class="fl">1.7</span>),</span>
<span id="cb56-467"><a href="#cb56-467" aria-hidden="true" tabindex="-1"></a>  <span class="at">d =</span> <span class="fu">c</span>(<span class="fl">0.05</span>),</span>
<span id="cb56-468"><a href="#cb56-468" aria-hidden="true" tabindex="-1"></a>  <span class="at">labs =</span> <span class="fu">c</span>(<span class="st">'Probability:'</span>, <span class="fu">round</span>(ag_probs, <span class="dv">2</span>)),</span>
<span id="cb56-469"><a href="#cb56-469" aria-hidden="true" tabindex="-1"></a>  <span class="at">Gender =</span> <span class="st">'Another Gender'</span></span>
<span id="cb56-470"><a href="#cb56-470" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb56-471"><a href="#cb56-471" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-472"><a href="#cb56-472" aria-hidden="true" tabindex="-1"></a>anx_fit2_latent_normals <span class="sc">|&gt;</span></span>
<span id="cb56-473"><a href="#cb56-473" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Gender <span class="sc">==</span> <span class="st">'Another Gender'</span>) <span class="sc">|&gt;</span></span>
<span id="cb56-474"><a href="#cb56-474" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> x, <span class="at">y =</span> d)) <span class="sc">+</span></span>
<span id="cb56-475"><a href="#cb56-475" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_area</span>(<span class="at">position =</span> <span class="st">'identity'</span>, <span class="at">alpha =</span> <span class="fl">0.5</span>, <span class="at">fill =</span> palette_gender[<span class="dv">3</span>]) <span class="sc">+</span></span>
<span id="cb56-476"><a href="#cb56-476" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="at">xintercept =</span> anx_fit2<span class="sc">$</span>zeta, <span class="at">linetype =</span> <span class="st">'dotted'</span>) <span class="sc">+</span></span>
<span id="cb56-477"><a href="#cb56-477" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> ag_prob_labs, <span class="fu">aes</span>(<span class="at">label =</span> labs), <span class="at">family =</span> <span class="st">'Fira Sans'</span>) <span class="sc">+</span></span>
<span id="cb56-478"><a href="#cb56-478" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="at">data =</span> rating_labs, <span class="fu">aes</span>(<span class="at">y =</span> d<span class="fl">-0.15</span>, <span class="at">label =</span> labs), <span class="at">family =</span> <span class="st">'Fira Sans'</span>, <span class="at">size =</span> <span class="dv">8</span>) <span class="sc">+</span></span>
<span id="cb56-479"><a href="#cb56-479" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb56-480"><a href="#cb56-480" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.line.x.top =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb56-481"><a href="#cb56-481" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.ticks.x.top =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb56-482"><a href="#cb56-482" aria-hidden="true" tabindex="-1"></a>    <span class="at">legend.position =</span> <span class="st">'none'</span>,</span>
<span id="cb56-483"><a href="#cb56-483" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb56-484"><a href="#cb56-484" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_y_continuous</span>(<span class="cn">NULL</span>, <span class="at">breaks =</span> <span class="cn">NULL</span>) <span class="sc">+</span></span>
<span id="cb56-485"><a href="#cb56-485" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_x_continuous</span>(</span>
<span id="cb56-486"><a href="#cb56-486" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Anxiety (assumed latent variable)'</span>, </span>
<span id="cb56-487"><a href="#cb56-487" aria-hidden="true" tabindex="-1"></a>    <span class="at">breaks =</span> <span class="sc">-</span><span class="dv">3</span><span class="sc">:</span><span class="dv">3</span>,</span>
<span id="cb56-488"><a href="#cb56-488" aria-hidden="true" tabindex="-1"></a>    <span class="at">sec.axis =</span> <span class="fu">dup_axis</span>(</span>
<span id="cb56-489"><a href="#cb56-489" aria-hidden="true" tabindex="-1"></a>      <span class="at">name =</span> <span class="cn">NULL</span>,</span>
<span id="cb56-490"><a href="#cb56-490" aria-hidden="true" tabindex="-1"></a>      <span class="at">breaks =</span> anx_fit2<span class="sc">$</span>zeta <span class="sc">|&gt;</span> <span class="fu">as.double</span>(),</span>
<span id="cb56-491"><a href="#cb56-491" aria-hidden="true" tabindex="-1"></a>      <span class="at">labels =</span> <span class="fu">round</span>(anx_fit2<span class="sc">$</span>zeta, <span class="dv">2</span>)</span>
<span id="cb56-492"><a href="#cb56-492" aria-hidden="true" tabindex="-1"></a>    )) <span class="sc">+</span></span>
<span id="cb56-493"><a href="#cb56-493" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">'Another Gender'</span>) <span class="sc">+</span></span>
<span id="cb56-494"><a href="#cb56-494" aria-hidden="true" tabindex="-1"></a>  <span class="cn">NULL</span></span>
<span id="cb56-495"><a href="#cb56-495" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-496"><a href="#cb56-496" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-497"><a href="#cb56-497" aria-hidden="true" tabindex="-1"></a><span class="fu">### Significance tests</span></span>
<span id="cb56-498"><a href="#cb56-498" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-499"><a href="#cb56-499" aria-hidden="true" tabindex="-1"></a><span class="in">`polr()`</span> doesn't provide *p*-values:</span>
<span id="cb56-500"><a href="#cb56-500" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-503"><a href="#cb56-503" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb56-504"><a href="#cb56-504" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(anx_fit2)</span>
<span id="cb56-505"><a href="#cb56-505" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-506"><a href="#cb56-506" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-507"><a href="#cb56-507" aria-hidden="true" tabindex="-1"></a>But we do have *t*-values.</span>
<span id="cb56-508"><a href="#cb56-508" aria-hidden="true" tabindex="-1"></a>So to know whether we can reject the null hypothesis (H0) that there's no association between ratings and gender, we can just treat the estimated *t*-values like z-scores and compare them to a standard normal distribution representing the H0.^[</span>
<span id="cb56-509"><a href="#cb56-509" aria-hidden="true" tabindex="-1"></a>Ideally we'd be comparing *t*-values to a *t* distribution, but with increasing degrees of freedom, the *t* distribution better approximates the normal distribution.</span>
<span id="cb56-510"><a href="#cb56-510" aria-hidden="true" tabindex="-1"></a>And I'm not too worried about having too few degrees of freedom for a decent approximation, because <span class="in">`anx`</span> contains a lot of observations.</span>
<span id="cb56-511"><a href="#cb56-511" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb56-512"><a href="#cb56-512" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-515"><a href="#cb56-515" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb56-516"><a href="#cb56-516" aria-hidden="true" tabindex="-1"></a><span class="fu">pnorm</span>(<span class="fu">abs</span>(<span class="sc">-</span><span class="fl">10.880</span>), <span class="at">lower.tail =</span> <span class="cn">FALSE</span>) <span class="sc">*</span> <span class="dv">2</span></span>
<span id="cb56-517"><a href="#cb56-517" aria-hidden="true" tabindex="-1"></a><span class="fu">pnorm</span>(<span class="fu">abs</span>(<span class="fl">4.041</span>), <span class="at">lower.tail =</span> <span class="cn">FALSE</span>) <span class="sc">*</span> <span class="dv">2</span></span>
<span id="cb56-518"><a href="#cb56-518" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-519"><a href="#cb56-519" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-520"><a href="#cb56-520" aria-hidden="true" tabindex="-1"></a>In both cases, the probability of observing a value this extreme or more extreme, given the H0 of no effect given by the standard normal distribution, is less than 0.05.</span>
<span id="cb56-521"><a href="#cb56-521" aria-hidden="true" tabindex="-1"></a>So we can reject the null hypotheses that</span>
<span id="cb56-522"><a href="#cb56-522" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-523"><a href="#cb56-523" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>there's no difference between <span class="in">`Female/Woman`</span> and <span class="in">`Male/Man`</span> ratings, and</span>
<span id="cb56-524"><a href="#cb56-524" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>there's no difference between <span class="in">`Female/Woman`</span> and <span class="in">`Another Gender`</span> ratings.</span>
<span id="cb56-525"><a href="#cb56-525" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-526"><a href="#cb56-526" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-527"><a href="#cb56-527" aria-hidden="true" tabindex="-1"></a><span class="fu"># Gaussian regression model with `lm()`</span></span>
<span id="cb56-528"><a href="#cb56-528" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-529"><a href="#cb56-529" aria-hidden="true" tabindex="-1"></a>The most common (but least adequate?) way of analysing rating data is to treat it as numeric and use a Gaussian model like <span class="in">`lm()`</span>.</span>
<span id="cb56-530"><a href="#cb56-530" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-533"><a href="#cb56-533" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb56-534"><a href="#cb56-534" aria-hidden="true" tabindex="-1"></a>anx <span class="ot">&lt;-</span> anx <span class="sc">|&gt;</span></span>
<span id="cb56-535"><a href="#cb56-535" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">rating_num =</span> <span class="fu">as.numeric</span>(rating))</span>
<span id="cb56-536"><a href="#cb56-536" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-537"><a href="#cb56-537" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-538"><a href="#cb56-538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-539"><a href="#cb56-539" aria-hidden="true" tabindex="-1"></a>Plotting this discrete data as if were continuous looks a bit strange—a hint that things aren't quite right.</span>
<span id="cb56-540"><a href="#cb56-540" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-543"><a href="#cb56-543" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb56-544"><a href="#cb56-544" aria-hidden="true" tabindex="-1"></a>p_rating_num <span class="ot">&lt;-</span> anx <span class="sc">|&gt;</span></span>
<span id="cb56-545"><a href="#cb56-545" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> gender, <span class="at">y =</span> rating_num, <span class="at">fill =</span> gender, <span class="at">colour =</span> gender)) <span class="sc">+</span></span>
<span id="cb56-546"><a href="#cb56-546" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">adjust =</span> <span class="dv">3</span>, <span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb56-547"><a href="#cb56-547" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb56-548"><a href="#cb56-548" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> palette_gender) <span class="sc">+</span></span>
<span id="cb56-549"><a href="#cb56-549" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> palette_gender) <span class="sc">+</span></span>
<span id="cb56-550"><a href="#cb56-550" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">'none'</span>) <span class="sc">+</span></span>
<span id="cb56-551"><a href="#cb56-551" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb56-552"><a href="#cb56-552" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb56-553"><a href="#cb56-553" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">'Rating (treated incorrectly as numeric)'</span></span>
<span id="cb56-554"><a href="#cb56-554" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb56-555"><a href="#cb56-555" aria-hidden="true" tabindex="-1"></a>  <span class="cn">NULL</span></span>
<span id="cb56-556"><a href="#cb56-556" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-557"><a href="#cb56-557" aria-hidden="true" tabindex="-1"></a>p_rating_num</span>
<span id="cb56-558"><a href="#cb56-558" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-559"><a href="#cb56-559" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-560"><a href="#cb56-560" aria-hidden="true" tabindex="-1"></a>But nevertheless, the model is fit:</span>
<span id="cb56-561"><a href="#cb56-561" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-564"><a href="#cb56-564" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb56-565"><a href="#cb56-565" aria-hidden="true" tabindex="-1"></a>anx_lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(rating_num <span class="sc">~</span> gender, <span class="at">data =</span> anx)</span>
<span id="cb56-566"><a href="#cb56-566" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-567"><a href="#cb56-567" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(anx_lm)</span>
<span id="cb56-568"><a href="#cb56-568" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-569"><a href="#cb56-569" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-570"><a href="#cb56-570" aria-hidden="true" tabindex="-1"></a>Interpretation:</span>
<span id="cb56-571"><a href="#cb56-571" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-572"><a href="#cb56-572" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The <span class="in">`(Intercept)`</span> represents the mean of the ratings for the reference level, <span class="in">`Female/Woman`</span>.</span>
<span id="cb56-573"><a href="#cb56-573" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The parameter <span class="in">`genderMale/Man`</span> gives the difference between the mean of the ratings for <span class="in">`Female/Woman`</span> and the mean of the ratings for <span class="in">`Male/Man`</span>.</span>
<span id="cb56-574"><a href="#cb56-574" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The parameter <span class="in">`genderAnother Gender`</span> gives the difference between the mean of the ratings for <span class="in">`Female/Woman`</span> and the mean of the ratings for <span class="in">`Another Gender`</span>.</span>
<span id="cb56-575"><a href="#cb56-575" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-576"><a href="#cb56-576" aria-hidden="true" tabindex="-1"></a>Here's a visualisation of what those parameters are doing, superimposed on the plot from above.</span>
<span id="cb56-577"><a href="#cb56-577" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-580"><a href="#cb56-580" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb56-581"><a href="#cb56-581" aria-hidden="true" tabindex="-1"></a>p_rating_num <span class="sc">+</span></span>
<span id="cb56-582"><a href="#cb56-582" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">colour =</span> <span class="st">'black'</span>, <span class="at">fun =</span> mean, <span class="at">geom =</span> <span class="st">'point'</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span></span>
<span id="cb56-583"><a href="#cb56-583" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">colour =</span> <span class="st">'black'</span>, <span class="at">fun.data =</span> mean_cl_boot, <span class="at">geom =</span> <span class="st">"errorbar"</span>, <span class="at">width =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb56-584"><a href="#cb56-584" aria-hidden="true" tabindex="-1"></a>  <span class="co"># line from fw to mm</span></span>
<span id="cb56-585"><a href="#cb56-585" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">colour =</span> <span class="st">'black'</span>, <span class="fu">aes</span>(</span>
<span id="cb56-586"><a href="#cb56-586" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="dv">1</span>,</span>
<span id="cb56-587"><a href="#cb56-587" aria-hidden="true" tabindex="-1"></a>    <span class="at">xend =</span> <span class="dv">2</span>,</span>
<span id="cb56-588"><a href="#cb56-588" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="fu">coef</span>(anx_lm)[[<span class="st">'(Intercept)'</span>]],</span>
<span id="cb56-589"><a href="#cb56-589" aria-hidden="true" tabindex="-1"></a>    <span class="at">yend =</span> <span class="fu">coef</span>(anx_lm)[[<span class="st">'(Intercept)'</span>]] <span class="sc">+</span> <span class="fu">coef</span>(anx_lm)[[<span class="st">'genderMale/Man'</span>]]</span>
<span id="cb56-590"><a href="#cb56-590" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">+</span></span>
<span id="cb56-591"><a href="#cb56-591" aria-hidden="true" tabindex="-1"></a>  <span class="co"># line from fw to ag</span></span>
<span id="cb56-592"><a href="#cb56-592" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">colour =</span> <span class="st">'black'</span>, <span class="fu">aes</span>(</span>
<span id="cb56-593"><a href="#cb56-593" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="dv">1</span>,</span>
<span id="cb56-594"><a href="#cb56-594" aria-hidden="true" tabindex="-1"></a>    <span class="at">xend =</span> <span class="dv">3</span>,</span>
<span id="cb56-595"><a href="#cb56-595" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="fu">coef</span>(anx_lm)[[<span class="st">'(Intercept)'</span>]],</span>
<span id="cb56-596"><a href="#cb56-596" aria-hidden="true" tabindex="-1"></a>    <span class="at">yend =</span> <span class="fu">coef</span>(anx_lm)[[<span class="st">'(Intercept)'</span>]] <span class="sc">+</span> <span class="fu">coef</span>(anx_lm)[[<span class="st">'genderAnother Gender'</span>]]</span>
<span id="cb56-597"><a href="#cb56-597" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">+</span></span>
<span id="cb56-598"><a href="#cb56-598" aria-hidden="true" tabindex="-1"></a>  <span class="cn">NULL</span></span>
<span id="cb56-599"><a href="#cb56-599" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-600"><a href="#cb56-600" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-601"><a href="#cb56-601" aria-hidden="true" tabindex="-1"></a>Weird stuff!</span>
<span id="cb56-602"><a href="#cb56-602" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-603"><a href="#cb56-603" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-604"><a href="#cb56-604" aria-hidden="true" tabindex="-1"></a><span class="fu"># z-score conversion then Gaussian regression model with `lm()`</span></span>
<span id="cb56-605"><a href="#cb56-605" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-606"><a href="#cb56-606" aria-hidden="true" tabindex="-1"></a>Another method of analysing rating data, more sophisticated than the last way but still assuming that rating data can be handled as if it were continuous numeric, first converts ratings to z-scores and then models those z-scores with a Gaussian model.</span>
<span id="cb56-607"><a href="#cb56-607" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-608"><a href="#cb56-608" aria-hidden="true" tabindex="-1"></a>Converting ratings to z-scores by participant irons out individual participants' biases in how they use the scale.</span>
<span id="cb56-609"><a href="#cb56-609" aria-hidden="true" tabindex="-1"></a>The z-scores effectively compare each participant's responses to their own average.</span>
<span id="cb56-610"><a href="#cb56-610" aria-hidden="true" tabindex="-1"></a>So, this is a good way of accounting for (for example) whether people in particular gender groups tend to be more or less anxious on the whole.</span>
<span id="cb56-611"><a href="#cb56-611" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-612"><a href="#cb56-612" aria-hidden="true" tabindex="-1"></a>However, it's this step where the funny business lies.</span>
<span id="cb56-613"><a href="#cb56-613" aria-hidden="true" tabindex="-1"></a>The process of z-scoring assumes that the variable to be transformed can sensibly be summarised in terms of its mean and standard deviation, assumptions that don't necessarily hold for discrete rating data.</span>
<span id="cb56-614"><a href="#cb56-614" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-615"><a href="#cb56-615" aria-hidden="true" tabindex="-1"></a>Once the values are in z-score form, though, they are continuous numeric and can be reasonably modelled by a Gaussian model.</span>
<span id="cb56-616"><a href="#cb56-616" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-617"><a href="#cb56-617" aria-hidden="true" tabindex="-1"></a>Anyway: to compute these z-scores, we need to know how participants responded to all the survey questions, not just the one being analysed here.</span>
<span id="cb56-618"><a href="#cb56-618" aria-hidden="true" tabindex="-1"></a>So I'll read in <span class="in">`attn.csv`</span>, which contains all the responses from all the participants who passed all seven attention checks.</span>
<span id="cb56-619"><a href="#cb56-619" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-622"><a href="#cb56-622" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb56-623"><a href="#cb56-623" aria-hidden="true" tabindex="-1"></a>attn <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">'data/attn.csv'</span>)</span>
<span id="cb56-624"><a href="#cb56-624" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-625"><a href="#cb56-625" aria-hidden="true" tabindex="-1"></a><span class="co"># Do some wrangling, then group by participant and compute z-scores.</span></span>
<span id="cb56-626"><a href="#cb56-626" aria-hidden="true" tabindex="-1"></a>attn_z <span class="ot">&lt;-</span> attn <span class="sc">|&gt;</span> </span>
<span id="cb56-627"><a href="#cb56-627" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(unique_id, gender, <span class="fu">starts_with</span>(<span class="st">'Q'</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb56-628"><a href="#cb56-628" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb56-629"><a href="#cb56-629" aria-hidden="true" tabindex="-1"></a>    <span class="at">cols =</span> <span class="fu">starts_with</span>(<span class="st">'Q'</span>), </span>
<span id="cb56-630"><a href="#cb56-630" aria-hidden="true" tabindex="-1"></a>    <span class="at">names_to =</span> <span class="st">'q'</span>, </span>
<span id="cb56-631"><a href="#cb56-631" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_to =</span> <span class="st">'score'</span>, </span>
<span id="cb56-632"><a href="#cb56-632" aria-hidden="true" tabindex="-1"></a>    <span class="at">values_transform =</span> <span class="fu">list</span>(<span class="at">score =</span> as.numeric)</span>
<span id="cb56-633"><a href="#cb56-633" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">|&gt;</span></span>
<span id="cb56-634"><a href="#cb56-634" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(<span class="sc">!</span><span class="fu">is.na</span>(score), <span class="sc">!</span><span class="fu">is.na</span>(gender)) <span class="sc">|&gt;</span> </span>
<span id="cb56-635"><a href="#cb56-635" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(unique_id) <span class="sc">|&gt;</span> </span>
<span id="cb56-636"><a href="#cb56-636" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">by_ppt_z =</span> <span class="fu">scale</span>(score))  <span class="co"># get z-score with scale()</span></span>
<span id="cb56-637"><a href="#cb56-637" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-638"><a href="#cb56-638" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter down to the question we care about.</span></span>
<span id="cb56-639"><a href="#cb56-639" aria-hidden="true" tabindex="-1"></a>anx_z <span class="ot">&lt;-</span> attn_z <span class="sc">|&gt;</span> </span>
<span id="cb56-640"><a href="#cb56-640" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(q <span class="sc">==</span> <span class="st">'Q7.1_3'</span>) <span class="sc">|&gt;</span> </span>
<span id="cb56-641"><a href="#cb56-641" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(unique_id, gender, by_ppt_z) <span class="sc">|&gt;</span> </span>
<span id="cb56-642"><a href="#cb56-642" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gender =</span> <span class="fu">factor</span>(gender, <span class="at">levels =</span> <span class="fu">c</span>(<span class="st">'Female/Woman'</span>, <span class="st">'Male/Man'</span>, <span class="st">'Another Gender'</span>)))</span>
<span id="cb56-643"><a href="#cb56-643" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-644"><a href="#cb56-644" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(anx_z)</span>
<span id="cb56-645"><a href="#cb56-645" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-646"><a href="#cb56-646" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-647"><a href="#cb56-647" aria-hidden="true" tabindex="-1"></a><span class="in">```{r echo=F}</span></span>
<span id="cb56-648"><a href="#cb56-648" aria-hidden="true" tabindex="-1"></a><span class="in">rm(attn_z)</span></span>
<span id="cb56-649"><a href="#cb56-649" aria-hidden="true" tabindex="-1"></a><span class="in">rm(attn)</span></span>
<span id="cb56-650"><a href="#cb56-650" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-651"><a href="#cb56-651" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-652"><a href="#cb56-652" aria-hidden="true" tabindex="-1"></a>Have a look at the distribution of z-scores for each gender group:</span>
<span id="cb56-653"><a href="#cb56-653" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-656"><a href="#cb56-656" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb56-657"><a href="#cb56-657" aria-hidden="true" tabindex="-1"></a>p_rating_z <span class="ot">&lt;-</span> anx_z <span class="sc">|&gt;</span></span>
<span id="cb56-658"><a href="#cb56-658" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> gender, <span class="at">y =</span> by_ppt_z, <span class="at">fill =</span> gender, <span class="at">colour =</span> gender)) <span class="sc">+</span></span>
<span id="cb56-659"><a href="#cb56-659" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_violin</span>(<span class="at">adjust =</span> <span class="dv">3</span>, <span class="at">alpha =</span> <span class="fl">0.2</span>) <span class="sc">+</span></span>
<span id="cb56-660"><a href="#cb56-660" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">alpha =</span> <span class="fl">0.1</span>) <span class="sc">+</span></span>
<span id="cb56-661"><a href="#cb56-661" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> palette_gender) <span class="sc">+</span></span>
<span id="cb56-662"><a href="#cb56-662" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_colour_manual</span>(<span class="at">values =</span> palette_gender) <span class="sc">+</span></span>
<span id="cb56-663"><a href="#cb56-663" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">legend.position =</span> <span class="st">'none'</span>) <span class="sc">+</span></span>
<span id="cb56-664"><a href="#cb56-664" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb56-665"><a href="#cb56-665" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb56-666"><a href="#cb56-666" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">'z-score (normalised by-participant)'</span></span>
<span id="cb56-667"><a href="#cb56-667" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb56-668"><a href="#cb56-668" aria-hidden="true" tabindex="-1"></a>  <span class="cn">NULL</span></span>
<span id="cb56-669"><a href="#cb56-669" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-670"><a href="#cb56-670" aria-hidden="true" tabindex="-1"></a>p_rating_z</span>
<span id="cb56-671"><a href="#cb56-671" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-672"><a href="#cb56-672" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-673"><a href="#cb56-673" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-674"><a href="#cb56-674" aria-hidden="true" tabindex="-1"></a>Fit the model which predicts z-scores by gender group:</span>
<span id="cb56-675"><a href="#cb56-675" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-678"><a href="#cb56-678" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb56-679"><a href="#cb56-679" aria-hidden="true" tabindex="-1"></a>anx_z_lm <span class="ot">&lt;-</span> <span class="fu">lm</span>(by_ppt_z <span class="sc">~</span> gender, <span class="at">data =</span> anx_z)</span>
<span id="cb56-680"><a href="#cb56-680" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(anx_z_lm)</span>
<span id="cb56-681"><a href="#cb56-681" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-682"><a href="#cb56-682" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-683"><a href="#cb56-683" aria-hidden="true" tabindex="-1"></a>Interpretation:</span>
<span id="cb56-684"><a href="#cb56-684" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-685"><a href="#cb56-685" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The <span class="in">`(Intercept)`</span> represents the mean of the z-scores for the reference level, <span class="in">`Female/Woman`</span>.</span>
<span id="cb56-686"><a href="#cb56-686" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The parameter <span class="in">`genderMale/Man`</span> gives the difference between the mean of the z-scores for <span class="in">`Female/Woman`</span> and the mean of the z-scores for <span class="in">`Male/Man`</span>.</span>
<span id="cb56-687"><a href="#cb56-687" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>The parameter <span class="in">`genderAnother Gender`</span> gives the difference between the mean of the z-scores for <span class="in">`Female/Woman`</span> and the mean of the z-scores for <span class="in">`Another Gender`</span>.</span>
<span id="cb56-688"><a href="#cb56-688" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-689"><a href="#cb56-689" aria-hidden="true" tabindex="-1"></a>Overlay the estimated lines on the plot from above:</span>
<span id="cb56-690"><a href="#cb56-690" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-693"><a href="#cb56-693" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb56-694"><a href="#cb56-694" aria-hidden="true" tabindex="-1"></a>p_rating_z <span class="sc">+</span></span>
<span id="cb56-695"><a href="#cb56-695" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun =</span> mean, <span class="at">geom =</span> <span class="st">'point'</span>, <span class="at">size =</span> <span class="dv">2</span>, <span class="at">colour =</span> <span class="st">'black'</span>) <span class="sc">+</span></span>
<span id="cb56-696"><a href="#cb56-696" aria-hidden="true" tabindex="-1"></a>  <span class="fu">stat_summary</span>(<span class="at">fun.data =</span> mean_cl_boot, <span class="at">geom =</span> <span class="st">"errorbar"</span>, <span class="at">width =</span> <span class="fl">0.2</span>, <span class="at">colour =</span> <span class="st">'black'</span>) <span class="sc">+</span></span>
<span id="cb56-697"><a href="#cb56-697" aria-hidden="true" tabindex="-1"></a>  <span class="co"># line from fw to mm</span></span>
<span id="cb56-698"><a href="#cb56-698" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">colour =</span> <span class="st">'black'</span>, <span class="fu">aes</span>(</span>
<span id="cb56-699"><a href="#cb56-699" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="dv">1</span>,</span>
<span id="cb56-700"><a href="#cb56-700" aria-hidden="true" tabindex="-1"></a>    <span class="at">xend =</span> <span class="dv">2</span>,</span>
<span id="cb56-701"><a href="#cb56-701" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="fu">coef</span>(anx_z_lm)[[<span class="st">'(Intercept)'</span>]],</span>
<span id="cb56-702"><a href="#cb56-702" aria-hidden="true" tabindex="-1"></a>    <span class="at">yend =</span> <span class="fu">coef</span>(anx_z_lm)[[<span class="st">'(Intercept)'</span>]] <span class="sc">+</span> <span class="fu">coef</span>(anx_z_lm)[[<span class="st">'genderMale/Man'</span>]]</span>
<span id="cb56-703"><a href="#cb56-703" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">+</span></span>
<span id="cb56-704"><a href="#cb56-704" aria-hidden="true" tabindex="-1"></a>  <span class="co"># line from fw to ag</span></span>
<span id="cb56-705"><a href="#cb56-705" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_segment</span>(<span class="at">colour =</span> <span class="st">'black'</span>, <span class="fu">aes</span>(</span>
<span id="cb56-706"><a href="#cb56-706" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="dv">1</span>,</span>
<span id="cb56-707"><a href="#cb56-707" aria-hidden="true" tabindex="-1"></a>    <span class="at">xend =</span> <span class="dv">3</span>,</span>
<span id="cb56-708"><a href="#cb56-708" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="fu">coef</span>(anx_z_lm)[[<span class="st">'(Intercept)'</span>]],</span>
<span id="cb56-709"><a href="#cb56-709" aria-hidden="true" tabindex="-1"></a>    <span class="at">yend =</span> <span class="fu">coef</span>(anx_z_lm)[[<span class="st">'(Intercept)'</span>]] <span class="sc">+</span> <span class="fu">coef</span>(anx_z_lm)[[<span class="st">'genderAnother Gender'</span>]]</span>
<span id="cb56-710"><a href="#cb56-710" aria-hidden="true" tabindex="-1"></a>  )) <span class="sc">+</span></span>
<span id="cb56-711"><a href="#cb56-711" aria-hidden="true" tabindex="-1"></a>  <span class="cn">NULL</span></span>
<span id="cb56-712"><a href="#cb56-712" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb56-713"><a href="#cb56-713" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-714"><a href="#cb56-714" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-715"><a href="#cb56-715" aria-hidden="true" tabindex="-1"></a><span class="fu"># Resources</span></span>
<span id="cb56-716"><a href="#cb56-716" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-717"><a href="#cb56-717" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Jamieson's (2004) paper <span class="co">[</span><span class="ot">Likert scales: How to (ab)use them.</span><span class="co">](https://onlinelibrary.wiley.com/doi/10.1111/j.1365-2929.2004.02012.x)</span></span>
<span id="cb56-718"><a href="#cb56-718" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-719"><a href="#cb56-719" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>UCLA Statistical Methods and Data Analytics's web page <span class="co">[</span><span class="ot">Ordinal Logistic Regression.</span><span class="co">](https://stats.oarc.ucla.edu/r/dae/ordinal-logistic-regression/)</span></span>
<span id="cb56-720"><a href="#cb56-720" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-721"><a href="#cb56-721" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Kurz' (2021) blog post <span class="co">[</span><span class="ot">Notes on the Bayesian cumulative probit.</span><span class="co">](https://stats.oarc.ucla.edu/r/dae/ordinal-logistic-regression/)</span></span>
<span id="cb56-722"><a href="#cb56-722" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-723"><a href="#cb56-723" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Gelman and Hill's (2007) book <span class="co">[</span><span class="ot">Data Analysis Using Regression and Multilevel/Hierarchical Models.</span><span class="co">](https://www.cambridge.org/highereducation/books/data-analysis-using-regression-and-multilevel-hierarchical-models/32A29531C7FD730C3A68951A17C9D983)</span></span>
<span id="cb56-724"><a href="#cb56-724" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-725"><a href="#cb56-725" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-726"><a href="#cb56-726" aria-hidden="true" tabindex="-1"></a><span class="fu"># Session info</span></span>
<span id="cb56-727"><a href="#cb56-727" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb56-730"><a href="#cb56-730" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb56-731"><a href="#cb56-731" aria-hidden="true" tabindex="-1"></a><span class="fu">sessionInfo</span>()</span>
<span id="cb56-732"><a href="#cb56-732" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>